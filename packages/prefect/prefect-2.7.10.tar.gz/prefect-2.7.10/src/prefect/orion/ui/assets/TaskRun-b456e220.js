import{d as h,al as y,$ as C,c as e,az as c,ao as x,u as a,a as D,w as n,e as S,a2 as p,a3 as A,X as B,o as N,b as u,aA as F,aB as i,aC as O,aw as P}from"./index-3e9b5a4f-22e45b7a.js";import{u as V}from"./usePageTitle-9cf51495.js";import"./index-8ec704cb.js";import{r as X}from"./routes-f61735ce.js";import"./meta-26546594.js";const E=h({__name:"TaskRun",setup($){const k=A(),l=y("taskRunId"),r=C(),f=e(()=>{const s=["Logs","Task Inputs"];return B.xl||s.push("Details"),s}),d=e(()=>l.value?[l.value]:null),m=c(r.taskRuns.getTaskRun,d,{interval:3e4}),t=e(()=>m.response),o=e(()=>{var s;return(s=t.value)==null?void 0:s.flowRunId}),R=e(()=>o.value?[o.value]:null),v=c(r.flowRuns.getFlowRun,R),_=e(()=>{var s;return(s=t.value)!=null&&s.taskInputs?JSON.stringify(t.value.taskInputs,void 0,2):"{}"});function w(){v.refresh(),k.push(X.flowRun(o.value))}const g=e(()=>{var s;return(s=t.value)==null?void 0:s.stateType});x(g);const I=e(()=>t.value?`Task Run: ${t.value.name}`:"Task Run");return V(I),(s,j)=>{const T=p("p-tabs"),b=p("p-layout-well");return a(t)?(N(),D(b,{key:0,class:"task-run"},{header:n(()=>[u(a(F),{"task-run-id":a(t).id,onDelete:w},null,8,["task-run-id"])]),well:n(()=>[u(a(i),{alternate:"","task-run":a(t)},null,8,["task-run"])]),default:n(()=>[u(T,{tabs:a(f)},{details:n(()=>[u(a(i),{"task-run":a(t)},null,8,["task-run"])]),logs:n(()=>[u(a(O),{"task-run":a(t)},null,8,["task-run"])]),"task-inputs":n(()=>[u(a(P),{language:"json",value:a(_)},null,8,["value"])]),_:1},8,["tabs"])]),_:1})):S("",!0)}}});export{E as default};
