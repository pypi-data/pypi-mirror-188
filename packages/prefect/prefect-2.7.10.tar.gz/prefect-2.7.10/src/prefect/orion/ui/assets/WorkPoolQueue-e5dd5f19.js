import{d as g,$ as y,al as w,a0 as m,c as a,b3 as N,u as o,a as h,w as u,e as C,a2 as n,X as x,o as S,b as l,bQ as R,b5 as U,bR as i,bS as $,aK as B}from"./index-3e9b5a4f-22e45b7a.js";import{u as V}from"./usePageTitle-9cf51495.js";const I=g({__name:"WorkPoolQueue",setup(X){const p=y(),e=w("workPoolName"),t=w("workPoolQueueName"),k={interval:3e5},c=m(p.workPoolQueues.getWorkPoolQueueByName,[e.value,t.value],k),s=a(()=>c.response),_=m(p.workPoolWorkers.getWorkers,[e.value],k),f=a(()=>_.response??[]);a(()=>{var r;return((r=f.value[0])==null?void 0:r.name)??"<worker name>"});const d=a(()=>`prefect agent start --pool ${e.value} --queue ${t.value}`),P=N({workPoolQueueName:[t.value],workPoolName:[e.value]}),b=a(()=>{const r=["Upcoming Runs","Runs"];return x.xl||r.unshift("Details"),r}),v=a(()=>t.value?`Work Pool Queue: ${t.value}`:"Work Pool Queue");return V(v),(r,j)=>{const q=n("p-tabs"),Q=n("p-layout-well"),W=n("p-layout-default");return o(s)?(S(),h(W,{key:0,class:"work-pool-queue"},{header:u(()=>[l(o(R),{"work-pool-queue":o(s),"work-pool-name":o(e),onUpdate:o(c).refresh},null,8,["work-pool-queue","work-pool-name","onUpdate"])]),default:u(()=>[l(Q,{class:"work-pool-queue__body"},{header:u(()=>[l(o(U),{command:o(d),title:"Work queue is ready to go!",subtitle:"Work queues are scoped to a work pool to allow agents to pull from groups of queues with different priorities."},null,8,["command"])]),well:u(()=>[l(o(i),{alternate:"","work-pool-name":o(e),"work-pool-queue":o(s)},null,8,["work-pool-name","work-pool-queue"])]),default:u(()=>[l(q,{tabs:o(b)},{details:u(()=>[l(o(i),{"work-pool-name":o(e),"work-pool-queue":o(s)},null,8,["work-pool-name","work-pool-queue"])]),"upcoming-runs":u(()=>[l(o($),{"work-pool-name":o(e),"work-pool-queue":o(s)},null,8,["work-pool-name","work-pool-queue"])]),runs:u(()=>[l(o(B),{"flow-run-filter":o(P)},null,8,["flow-run-filter"])]),_:1},8,["tabs"])]),_:1})]),_:1})):C("",!0)}}});export{I as default};
