import{d as D,r as I,al as P,c as s,$ as L,a0 as $,am as j,an as q,ao as A,a as n,w as o,a2 as f,a3 as B,X as N,ap as O,o as l,u as e,aq as V,e as u,ar as w,as as X,b as d,at as H,au as U,av as z,aw as E}from"./index-3e9b5a4f-22e45b7a.js";import{u as G}from"./usePageTitle-9cf51495.js";import"./index-8ec704cb.js";import{r as J}from"./routes-f61735ce.js";import"./meta-26546594.js";const ee=D({__name:"FlowRun",setup(K){const i=B(),c=I("Logs"),p=P("flowRunId"),m=s(()=>{const t=["Logs","Task Runs","Subflow Runs","Parameters"];return N.xl||t.push("Details"),t}),_=L(),v=$(_.flowRuns.getFlowRun,[p],{interval:3e4}),a=s(()=>v.response),y=s(()=>{var t;return(t=a.value)==null?void 0:t.deploymentId}),R=j(y);q(p,(t,r)=>{t!==r&&(c.value="Logs")});const b=s(()=>{var t;return((t=a.value)==null?void 0:t.parameters)??{}}),k=s(()=>{var t;return((t=R.value)==null?void 0:t.parameterOpenApiSchema)??{}}),g=s(()=>O(b.value,k.value));function T(){i.push(J.flowRuns())}const h=s(()=>{var t;return(t=a.value)==null?void 0:t.stateType});A(h);const F=s(()=>a.value?`Flow Run: ${a.value.name}`:"Flow Run");return G(F),(t,r)=>{const x=f("p-tabs"),S=f("p-layout-well");return l(),n(S,{class:"flow-run"},{header:o(()=>[e(a)?(l(),n(e(V),{key:0,"flow-run-id":e(a).id,onDelete:T},null,8,["flow-run-id"])):u("",!0)]),well:o(()=>[e(a)?(l(),n(e(w),{key:0,"flow-run":e(a),alternate:""},null,8,["flow-run"])):u("",!0)]),default:o(()=>[e(a)?(l(),n(e(X),{key:0,"flow-run":e(a)},null,8,["flow-run"])):u("",!0),d(x,{selected:c.value,"onUpdate:selected":r[0]||(r[0]=C=>c.value=C),tabs:e(m)},{details:o(()=>[e(a)?(l(),n(e(w),{key:0,"flow-run":e(a)},null,8,["flow-run"])):u("",!0)]),logs:o(()=>[e(a)?(l(),n(e(H),{key:0,"flow-run":e(a)},null,8,["flow-run"])):u("",!0)]),"task-runs":o(()=>[e(a)?(l(),n(e(U),{key:0,"flow-run-id":e(a).id},null,8,["flow-run-id"])):u("",!0)]),"subflow-runs":o(()=>[e(a)?(l(),n(e(z),{key:0,"flow-run-id":e(a).id},null,8,["flow-run-id"])):u("",!0)]),parameters:o(()=>[d(e(E),{language:"json",value:e(g)},null,8,["value"])]),_:1},8,["selected","tabs"])]),_:1})}}});export{ee as default};
