(self.webpackChunkPaddleLabel_Frontend=self.webpackChunkPaddleLabel_Frontend||[]).push([[687],{41180:function(E){E.exports={ppcard:"ppcard___27hGd",title:"title___22R8f"}},48627:function(E){E.exports={container:"container___2RXc3"}},32310:function(E){E.exports={title:"title___2OSZi",Corresponding_list_content:"Corresponding_list_content___1wY1N",Corresponding_list:"Corresponding_list___5fgS1",Corresponding_li:"Corresponding_li___7KM9o",Corresponding_label1:"Corresponding_label1___1-489",label:"label___1-fqP",Corresponding_label2:"Corresponding_label2___1vV_o",Corresponding_button:"Corresponding_button___3SDwm",Corresponding_select_content:"Corresponding_select_content___3FjXI",Corresponding_select:"Corresponding_select___2eyrv"}},68179:function(){},31982:function(E,O,t){"use strict";var Q=t(89032),D=t(15746),F=t(11849),Y=t(13062),C=t(71230),v=t(11700),P=t(67294),J=t(41180),e=t.n(J),k=function(h){return P.createElement("div",{className:e().ppcard,style:h.style,hidden:h.hidden},P.createElement(C.Z,{className:e().titleRow,style:{display:h.title?void 0:"none"}},P.createElement(v.Z,{className:e().title},h.title)),P.createElement(C.Z,{style:{marginTop:26}},P.createElement(D.Z,{span:24,style:(0,F.Z)({paddingLeft:30,paddingRight:30,textAlign:"center"},h.innerStyle)},h.children)))};O.Z=k},11428:function(E,O,t){"use strict";var Q=t(67294),D=t(48627),F=t.n(D),Y=function(v){return Q.createElement("div",{className:"".concat(F().container),style:{backgroundImage:"url(./pics/background.png)"}},v.children)};O.Z=Y},93661:function(E,O,t){"use strict";t.r(O),t.d(O,{default:function(){return Ge}});var Q=t(49111),D=t(19650),F=t(38663),Y=t(68179),C=t(22122),v=t(96156),P=t(94184),J=t.n(P),e=t(67294),k=t(53124),de=function(a,n){var o={};for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&n.indexOf(s)<0&&(o[s]=a[s]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(a);i<s.length;i++)n.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(a,s[i])&&(o[s[i]]=a[s[i]]);return o},h=function(n){var o,s=e.useContext(k.E_),i=s.getPrefixCls,te=s.direction,$=n.prefixCls,w=n.type,A=w===void 0?"horizontal":w,H=n.orientation,S=H===void 0?"center":H,x=n.orientationMargin,ne=n.className,L=n.children,j=n.dashed,ae=n.plain,le=de(n,["prefixCls","type","orientation","orientationMargin","className","children","dashed","plain"]),u=i("divider",$),_=S.length>0?"-".concat(S):S,G=!!L,X=S==="left"&&x!=null,R=S==="right"&&x!=null,N=J()(u,"".concat(u,"-").concat(A),(o={},(0,v.Z)(o,"".concat(u,"-with-text"),G),(0,v.Z)(o,"".concat(u,"-with-text").concat(_),G),(0,v.Z)(o,"".concat(u,"-dashed"),!!j),(0,v.Z)(o,"".concat(u,"-plain"),!!ae),(0,v.Z)(o,"".concat(u,"-rtl"),te==="rtl"),(0,v.Z)(o,"".concat(u,"-no-default-orientation-margin-left"),X),(0,v.Z)(o,"".concat(u,"-no-default-orientation-margin-right"),R),o),ne),T=(0,C.Z)((0,C.Z)({},X&&{marginLeft:x}),R&&{marginRight:x});return e.createElement("div",(0,C.Z)({className:N},le,{role:"separator"}),L&&A!=="vertical"&&e.createElement("span",{className:"".concat(u,"-inner-text"),style:T},L))},Le=h,vt=t(57663),Z=t(71577),Ue=t(91220),ce=t(11849),q=t(86582),ft=t(9715),M=t(96709),f=t(2824),pt=t(47673),ee=t(35920),gt=t(43358),z=t(42239),ue=t(28991),De={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},Ae=De,je=t(47699),me=function(n,o){return e.createElement(je.Z,(0,ue.Z)((0,ue.Z)({},n),{},{ref:o,icon:Ae}))};me.displayName="PlusOutlined";var Re=e.forwardRef(me),Ne=t(11700),Te=t(11428),Be=t(31982),K=t(83721),Fe=t(37071),ze=t(32310),p=t.n(ze),ve={randomUUID:typeof crypto!="undefined"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let V;const Ke=new Uint8Array(16);function Ve(){if(!V&&(V=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!V))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return V(Ke)}const c=[];for(let a=0;a<256;++a)c.push((a+256).toString(16).slice(1));function fe(a,n=0){return(c[a[n+0]]+c[a[n+1]]+c[a[n+2]]+c[a[n+3]]+"-"+c[a[n+4]]+c[a[n+5]]+"-"+c[a[n+6]]+c[a[n+7]]+"-"+c[a[n+8]]+c[a[n+9]]+"-"+c[a[n+10]]+c[a[n+11]]+c[a[n+12]]+c[a[n+13]]+c[a[n+14]]+c[a[n+15]]).toLowerCase()}function ht(a,n=0){const o=fe(a,n);if(!validate(o))throw TypeError("Stringified UUID is invalid");return o}var yt=null;function We(a,n,o){if(ve.randomUUID&&!n&&!a)return ve.randomUUID();a=a||{};const s=a.random||(a.rng||Ve)();if(s[6]=s[6]&15|64,s[8]=s[8]&63|128,n){o=o||0;for(let i=0;i<16;++i)n[o+i]=s[i];return n}return fe(s)}var $e=We,pe=t(48971),W=z.Z.Option,we=ee.Z.TextArea,He=function(){var n,o,s="http://127.0.0.1:1234",i=(0,K.Ad)("pages.ProjectAi"),te=(0,e.useState)(0),$=(0,f.Z)(te,2),w=$[0],A=$[1],H=M.Z.useForm(),S=(0,f.Z)(H,1),x=S[0],ne=(0,e.useState)(s),L=(0,f.Z)(ne,2),j=L[0],ae=L[1],le=(0,e.useState)(),u=(0,f.Z)(le,2),_=u[0],G=u[1],X=(0,e.useState)(!0),R=(0,f.Z)(X,2),N=R[0],T=R[1],Xe=(0,e.useState)([]),ge=(0,f.Z)(Xe,2),re=ge[0],Ee=ge[1],Qe=(0,e.useState)(""),he=(0,f.Z)(Qe,2),oe=he[0],ye=he[1],Ye=(0,e.useState)(""),Ce=(0,f.Z)(Ye,2),Pe=Ce[0],Ze=Ce[1],Je=(0,e.useState)([]),Se=(0,f.Z)(Je,2),U=Se[0],ie=Se[1],ke=(0,e.useState)(""),_e=(0,f.Z)(ke,2),be=_e[0],Ie=_e[1],qe=(0,e.useState)([]),Oe=(0,f.Z)(qe,2),se=Oe[0],Me=Oe[1],xe=(0,e.useRef)(null),b=(0,K.Gd)(e.useState),B=(0,K.RZ)(e.useState,j),y=Fe.Z.getQueryVariable("projectId"),et=function(){A(0)},tt=function(r){G(r)},nt=function(r){ae(r)},at=function(r){Ze(r);var d=U.filter(function(m){return m!==r});ie(d)},lt=function(r){Ie(r)},rt=function(r){ye(r.target.value)},ot=function(){Me(function(r){return[].concat((0,q.Z)(r),[{id:$e(),model:Pe,project:be}])}),Ze(""),Ie("")},it=function(r,d){var m=se.filter(function(g){return g.id!==r});Me(m),ie([].concat((0,q.Z)(U),[d]))},I=(0,K.jL)(e.useState,{oneHot:!0,postSelect:function(){A(0)},preUnsetCurr:et}),st=function(r){I.create((0,ce.Z)((0,ce.Z)({},r),{},{projectId:b.curr.projectId})).then(function(d){I.setCurr(d)})},dt=function(){var r=new Map;I.all.forEach(function(d){r.set(d.labelId,"")}),re.forEach(function(d){d.labelId||st(d)})},ct=function(r){r.preventDefault();var d={name:oe},m=new Map;re.forEach(function(g){m.set(g.name,"")}),m.has(oe)||Ee(function(g){return[].concat((0,q.Z)(g),[d])}),ye(""),setTimeout(function(){var g;(g=xe.current)===null||g===void 0||g.focus()},0)},ut=function(){var r={mlBackendUrl:"http://localhost:1234",modelName:_,labelMapping:se};b.update(y,{otherSettings:r}).then(function(){dt(),pe.m8.push("/project_overview?projectId=".concat(y))}),b.setAllPredicted(!1,y)},mt=function(){B.setMlBackendUrl(j)};return(0,e.useEffect)(function(){B.getAll()},[B.backendUrl]),(0,e.useEffect)(function(){y&&(b.getCurr(y),B.getAll(),I.getAll(y))},[y]),(0,e.useEffect)(function(){I.all&&Ee(I.all)},[I.all]),(0,e.useEffect)(function(){if(_){var l=(0,Ue.Z)(B.all),r;try{for(l.s();!(r=l.n()).done;){var d=r.value;d.name===_&&d.labelNames&&ie(d.labelNames)}}catch(m){l.e(m)}finally{l.f()}}},[_]),console.log("frontendId",w),e.createElement(Te.Z,null,e.createElement(Be.Z,{style:{height:"100%"}},e.createElement(Ne.Z,{className:p().title},i("title")),e.createElement("div",null,e.createElement(M.Z,{form:x,layout:"horizontal",size:"large",style:{marginTop:"5.69rem"}},e.createElement(M.Z.Item,{name:"name",label:i("mlBackendUrl"),labelCol:{span:6},wrapperCol:{span:16},rules:[{required:!0,message:"Please input project name!"}],style:{fontSize:"1.5rem"}},e.createElement(ee.Z,{autoComplete:"off",size:"large",defaultValue:s,value:j,onChange:nt,onBlur:mt,style:{height:"3.13rem"}})),e.createElement(M.Z.Item,{name:"dataDir",label:i("modelSelection"),labelCol:{span:6},wrapperCol:{span:16},rules:[{required:!0,message:"Please input dataset path!"}],style:{fontSize:"1.5rem"}},e.createElement("div",{style:{width:"100%"}},e.createElement(z.Z,{defaultValue:"",onChange:tt,value:_,style:{width:"100%"}},(b==null||(n=b.curr)===null||n===void 0||(o=n.taskCategory)===null||o===void 0?void 0:o.name)==="detection"?e.createElement(W,{value:"PicoDet"},"PicoDet"):e.createElement(W,{value:"PPLCNetV2"},"PPLCNetV2")))),e.createElement(M.Z.Item,{name:"dataDir",label:i("usePretrainedModelLabels"),labelCol:{span:6},wrapperCol:{span:16},rules:[{required:!0,message:"Please input dataset path!"}],style:{fontSize:"1.5rem"}},e.createElement("div",{style:{display:"flex"}},e.createElement("div",{style:{width:"6rem",marginRight:"2rem"}},e.createElement(Z.Z,{type:N?"primary":"default",block:!0,onClick:function(){T(function(){return!0})}},i("yes","global"))),e.createElement("div",{style:{width:"6rem"}},e.createElement(Z.Z,{block:!0,type:N?"default":"primary",onClick:function(){T(function(){return!1})}},i("no","global"))))),e.createElement(M.Z.Item,{name:"textArea",label:i("labelMapping"),labelCol:{span:6},wrapperCol:{span:16},rules:[{required:!1,message:"Please input dataset path!"}],style:{fontSize:"1.5rem"}},N?e.createElement(we,{rows:5,defaultValue:i("labelMappingHint")}):e.createElement("div",{className:p().Corresponding_list_content},se.map(function(l,r){return e.createElement("div",{className:p().Corresponding_list,key:l.id},e.createElement("div",{className:p().Corresponding_li},e.createElement("div",{className:p().Corresponding_label1},e.createElement("div",{className:p().label,key:r},l.model)),e.createElement("div",{className:p().Corresponding_label2},e.createElement("div",{className:p().label},l.project)),e.createElement(Z.Z,{size:"small",type:"primary",danger:!0,onClick:function(){it(l.id,l.model)}},i("delete"))))}),e.createElement("div",{className:p().Corresponding_select_content,style:{display:"flex",alignItems:"center"}},e.createElement("div",{className:p().Corresponding_select},e.createElement("div",{style:{width:"200px"}},e.createElement(z.Z,{defaultValue:"",onChange:at,value:Pe,style:{width:"100%"},showSearch:!0,optionFilterProp:"children",filterOption:function(r,d){var m;return((m=d==null?void 0:d.value)!==null&&m!==void 0?m:"").toLowerCase().includes(r.toLowerCase())}},U&&(U==null?void 0:U.map(function(l){return e.createElement(W,{value:l},l)}))))),e.createElement("div",{className:p().Corresponding_select},e.createElement("div",{style:{width:"200px"}},e.createElement(z.Z,{style:{width:200},placeholder:"custom dropdown render",onChange:lt,value:be,dropdownRender:function(r){return e.createElement(e.Fragment,null,r,e.createElement(Le,{style:{margin:"8px 0"}}),e.createElement(D.Z,{style:{padding:"0 8px 4px"}},e.createElement(ee.Z,{placeholder:"Please enter item",ref:xe,value:oe,onChange:rt}),e.createElement(Z.Z,{type:"text",icon:e.createElement(Re,null),onClick:ct},"Add")))}},re.map(function(l){return e.createElement(W,{value:l.name,key:l.id},l.name)})))),e.createElement(Z.Z,{size:"small",type:"primary",danger:!0,onClick:ot},i("add")))))),e.createElement("div",{style:{display:"flex",justifyContent:"end"}},e.createElement("div",{style:{width:"6rem",marginRight:"2rem"}},e.createElement(Z.Z,{block:!0,type:"primary",onClick:ut},i("confirm"))),e.createElement("div",{style:{width:"6rem"}},e.createElement(Z.Z,{block:!0,onClick:function(){T(function(){return!1}),pe.m8.push("/project_overview?projectId=".concat(y))}},i("goback")))))))},Ge=He}}]);
