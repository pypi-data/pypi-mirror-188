(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8867],{66757:function(e,n,t){"use strict";var r=t(19319),i=t(94178),o=t(67240),c="localStorage"in t.g&&t.g.localStorage?t.g.localStorage:r;function a(e,n){return 1===arguments.length?s(e):l(e,n)}function s(e){const n=c.getItem(e);return i(n)}function l(e,n){try{return c.setItem(e,JSON.stringify(n)),!0}catch(t){return!1}}a.set=l,a.get=s,a.remove=function(e){return c.removeItem(e)},a.clear=function(){return c.clear()},a.backend=function(e){return e&&(c=e),c},a.on=o.on,a.off=o.off,e.exports=a},94178:function(e){"use strict";e.exports=function(e){const n=function(e){try{return JSON.parse(e)}catch(n){return e}}(e);return void 0===n?null:n}},19319:function(e){"use strict";var n={};e.exports={getItem:function(e){return e in n?n[e]:null},setItem:function(e,t){return n[e]=t,!0},removeItem:function(e){return!!(e in n)&&delete n[e]},clear:function(){return n={},!0}}},67240:function(e,n,t){"use strict";var r=t(94178),i={};function o(e){e||(e=t.g.event);var n=i[e.key];n&&n.forEach((function(n){n(r(e.newValue),r(e.oldValue),e.url||e.uri)}))}e.exports={on:function(e,n){i[e]?i[e].push(n):i[e]=[n],t.g.addEventListener?t.g.addEventListener("storage",o,!1):t.g.attachEvent?t.g.attachEvent("onstorage",o):t.g.onstorage=o},off:function(e,n){var t=i[e];t.length>1?t.splice(t.indexOf(n),1):i[e]=[]}}},72454:function(e,n,t){"use strict";t.d(n,{E7:function(){return h},HS:function(){return p},Nk:function(){return d},k1:function(){return u},lm:function(){return f}});var r=t(9518),i=t(23831),o=t(73942),c=t(3055),a=t(49125),s=t(37391),l=t(90880),u=a.cd*a.iI+5*a.iI+a.cd*a.iI,d=r.default.div.withConfig({displayName:"indexstyle__ContainerStyle",componentId:"sc-ecogjt-0"})(["display:flex;flex-direction:row;height:calc(100vh - ","px);position:fixed;top:","px;width:100%;",""],c.Mz,c.Mz,(function(e){return"\n    background-color: ".concat((e.theme.background||i.Z.background).page,";\n  ")})),f=r.default.div.withConfig({displayName:"indexstyle__VerticalNavigationStyle",componentId:"sc-ecogjt-1"})(["padding:","px;",""],a.cd*a.iI,(function(e){return"\n    background-color: ".concat((e.theme.background||i.Z.background).panel,";\n    border-right: 1px solid ").concat((e.theme.borders||i.Z.borders).medium,";\n  ")})),p=r.default.div.withConfig({displayName:"indexstyle__SubheaderStyle",componentId:"sc-ecogjt-2"})(["width:fit-content;padding:","px;position:relative;z-index:2;",""],a.cd*a.iI,(function(e){return"\n    border-bottom: 1px solid ".concat((e.theme.borders||i.Z.borders).medium,";\n  ")})),h=(r.default.div.withConfig({displayName:"indexstyle__ContentStyle",componentId:"sc-ecogjt-3"})([""," overflow:auto;",""],s.w5,(function(e){return"\n    height: calc(100vh - ".concat(c.Mz+(e.heightOffset||0),"px);\n  ")})),r.default.div.withConfig({displayName:"indexstyle__NavigationItemStyle",componentId:"sc-ecogjt-4"})(["display:flex;align-items:center;justify-content:center;padding:","px;border-radius:","px;",""],a.iI,o.n_,(function(e){return e.primary&&"\n    ".concat((0,l.eR)(),"\n    background: ").concat((e.theme||i.Z).chart.backgroundPrimary,";\n    border: 1px solid ").concat((e.theme||i.Z).feature.active,";\n\n    &:hover {\n      background-color: ").concat((e.theme||i.Z).interactive.linkSecondary,";\n    }\n  ")})))},51404:function(e,n,t){"use strict";t.d(n,{Z:function(){return S}});var r=t(77555),i=t(82684),o=t(93461),c=t(57384),a=t(19767),s=t(72454),l=t(28598);function u(e,n){var t=e.children;return(0,l.jsx)(s.HS,{ref:n,children:t})}var d=i.forwardRef(u),f=t(32063),p=t(34376),h=t(61519),m=t(57639),g=t(882),v=t(31866);var b=function(e){var n=e.size;return(0,l.jsxs)("svg",{width:n,height:n,viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,l.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9.86364 2.5H4.13636C3.68449 2.5 3.31818 2.94772 3.31818 3.5V7.5C3.31818 8.05228 3.68449 8.5 4.13636 8.5H9.86364C10.3155 8.5 10.6818 8.05228 10.6818 7.5V3.5C10.6818 2.94772 10.3155 2.5 9.86364 2.5ZM4.13636 1.5C3.23263 1.5 2.5 2.39543 2.5 3.5V7.5C2.5 8.60457 3.23263 9.5 4.13636 9.5H5.5V16.1667V16.5H4.13636C3.23263 16.5 2.5 17.3954 2.5 18.5V22.5C2.5 23.6046 3.23263 24.5 4.13636 24.5H9.86364C10.7674 24.5 11.5 23.6046 11.5 22.5V18.5C11.5 17.3954 10.7674 16.5 9.86364 16.5H6.5V16.1667C6.5 14.9394 7.61929 13.9444 9 13.9444H16C17.933 13.9444 19.5 12.5516 19.5 10.8333V9.5H21.8636C22.7674 9.5 23.5 8.60457 23.5 7.5V3.5C23.5 2.39543 22.7674 1.5 21.8636 1.5H16.1364C15.2326 1.5 14.5 2.39543 14.5 3.5V7.5C14.5 8.60457 15.2326 9.5 16.1364 9.5H18.5V10.8333C18.5 12.0606 17.3807 13.0556 16 13.0556H9C8.02066 13.0556 7.13526 13.4131 6.5 13.9893V9.5H9.86364C10.7674 9.5 11.5 8.60457 11.5 7.5V3.5C11.5 2.39543 10.7674 1.5 9.86364 1.5H4.13636ZM9.86364 17.5H6.5H5.5H4.13636C3.68449 17.5 3.31818 17.9477 3.31818 18.5V22.5C3.31818 23.0523 3.68449 23.5 4.13636 23.5H9.86364C10.3155 23.5 10.6818 23.0523 10.6818 22.5V18.5C10.6818 17.9477 10.3155 17.5 9.86364 17.5ZM16.1364 2.5H21.8636C22.3155 2.5 22.6818 2.94772 22.6818 3.5V7.5C22.6818 8.05228 22.3155 8.5 21.8636 8.5H16.1364C15.6845 8.5 15.3182 8.05228 15.3182 7.5V3.5C15.3182 2.94772 15.6845 2.5 16.1364 2.5Z",fill:"url(#paint0_linear_2738_141228)"}),(0,l.jsx)("defs",{children:(0,l.jsxs)("linearGradient",{id:"paint0_linear_2738_141228",x1:"2.5",y1:"13",x2:"23.5",y2:"13",gradientUnits:"userSpaceOnUse",children:[(0,l.jsx)("stop",{offset:"0.28125",stopColor:"#7D55EC"}),(0,l.jsx)("stop",{offset:"1",stopColor:"#2AB2FE"})]})})]})},x=t(86673),j=t(19711),y=t(46261),w=t(10503),Z=t(99994),C=t(49125),k=3*C.iI;var I=function(e){var n=e.navigationItems,t=(0,p.useRouter)().pathname,r=(0,i.useMemo)((function(){return(n||[{Icon:w.rV,IconSelected:b,id:"pipelines",label:function(){return"Pipelines"},linkProps:{href:"/pipelines"}},{Icon:w.pd,IconSelected:h.Z,id:"pipeline-runs",label:function(){return"Pipelines runs"},linkProps:{href:"/pipeline-runs"}}]).map((function(e,n){var r=e.Icon,i=e.IconSelected,o=e.id,c=e.isSelected,a=e.label,u=e.linkProps,d=c?c(t):!!t.match(new RegExp("^/".concat(o,"[/]*"))),f=d&&i?i:r;return(0,l.jsx)(x.Z,{mt:n>=1?C.cd:0,children:(0,l.jsxs)(y.Z,{height:5*C.iI,label:a(),size:null,widthFitContent:!0,children:[d&&i&&(0,l.jsx)(g.Z,{backgroundGradient:Z.yr,backgroundPanel:!0,basic:!0,borderWidth:2,linkProps:u,paddingUnits:1,children:(0,l.jsx)("div",{style:{height:k,width:k},children:(0,l.jsx)(f,{muted:!0,size:k})})}),!d&&(0,l.jsx)(v.ZP,{block:!0,noHoverUnderline:!0,noPadding:!0,linkProps:u,sameColorAsText:!0,uuid:"VerticalNavigation/".concat(o),children:(0,l.jsx)(s.E7,{primary:!f,children:f?(0,l.jsx)(f,{muted:!0,size:k}):(0,l.jsx)(j.ZP,{children:"Edit"})})})]})},"button-".concat(o))}))}),[n,t]);return(0,l.jsx)(m.Z,{children:r})},_=t(41374),P=t(3055),O=t(91427),H=t(24141);var S=function(e){var n,t=e.after,u=e.afterHidden,p=e.afterWidth,h=e.before,m=e.beforeWidth,g=e.breadcrumbs,v=e.children,b=e.headerMenuItems,x=e.navigationItems,j=e.subheaderChildren,y=e.title,w=e.uuid,Z=(0,H.i)().width,C="dashboard_after_width_".concat(w),k="dashboard_before_width_".concat(w),S=(0,i.useRef)(null),V=(0,i.useState)((0,O.U2)(C,p)),E=V[0],M=V[1],N=(0,i.useState)(!1),B=N[0],D=N[1],z=(0,i.useState)((0,O.U2)(k,m)),T=z[0],R=z[1],W=(0,i.useState)(!1),A=W[0],F=W[1],U=(0,i.useState)(null),G=(U[0],U[1]),L=_.ZP.projects.list({},{revalidateOnFocus:!1}).data,q=null===L||void 0===L?void 0:L.projects,J=[];return g?J.push.apply(J,(0,r.Z)(g)):(null===q||void 0===q?void 0:q.length)>=1&&J.push.apply(J,[{label:function(){var e;return null===(e=q[0])||void 0===e?void 0:e.name},linkProps:{href:"/"}},{bold:!0,label:function(){return y}}]),(0,i.useEffect)((function(){null===S||void 0===S||!S.current||B||A||null===G||void 0===G||G(S.current.getBoundingClientRect().width)}),[B,E,A,T,null===S||void 0===S?void 0:S.current,G,Z]),(0,i.useEffect)((function(){B||(0,O.t8)(C,E)}),[u,B,E]),(0,i.useEffect)((function(){A||(0,O.t8)(k,T)}),[A,T]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(c.Z,{title:y}),(0,l.jsx)(a.Z,{breadcrumbs:J,menuItems:b,project:null===q||void 0===q?void 0:q[0],version:null===q||void 0===q||null===(n=q[0])||void 0===n?void 0:n.version}),(0,l.jsxs)(s.Nk,{children:[0!==(null===x||void 0===x?void 0:x.length)&&(0,l.jsx)(s.lm,{children:(0,l.jsx)(I,{navigationItems:x})}),(0,l.jsx)(o.Z,{flex:1,flexDirection:"column",children:(0,l.jsxs)(f.Z,{after:t,afterHeightOffset:P.Mz,afterHidden:u,afterMousedownActive:B,afterWidth:E,before:h,beforeHeightOffset:P.Mz,beforeMousedownActive:A,beforeWidth:s.k1+(h?T:0),hideAfterCompletely:!0,leftOffset:h?s.k1:null,mainContainerRef:S,setAfterMousedownActive:D,setAfterWidth:M,setBeforeMousedownActive:F,setBeforeWidth:R,children:[j&&(0,l.jsx)(d,{children:j}),v]})})]})]})}},65597:function(e,n,t){"use strict";t.d(n,{c:function(){return s},f:function(){return l}});var r=t(9518),i=t(23831),o=t(49125),c=t(73942),a=t(37391),s=r.default.div.withConfig({displayName:"Tablestyle__TableContainerStyle",componentId:"sc-8ammqd-0"})(["position:relative;overflow:auto;"," ",""],a.w5,(function(e){return e.minHeight&&"\n    min-height: ".concat(e.minHeight,"px;\n  ")})),l=r.default.div.withConfig({displayName:"Tablestyle__PopupContainerStyle",componentId:"sc-8ammqd-1"})(["position:absolute;max-height:","px;z-index:10;border-radius:","px;padding:","px;"," "," "," ",""],58*o.iI,c.TR,2*o.iI,(function(e){return"\n    box-shadow: ".concat((e.theme.shadow||i.Z.shadow).popup,";\n    background-color: ").concat((e.theme.interactive||i.Z.interactive).defaultBackground,";\n  ")}),(function(e){return e.leftOffset&&"\n    left: ".concat(e.leftOffset,"px;\n  ")}),(function(e){return e.topOffset&&"\n    top: ".concat(e.topOffset,"px;\n  ")}),(function(e){return e.width&&"\n    width: ".concat(e.width,"px;\n  ")}))},17903:function(e,n,t){"use strict";t.d(n,{Z:function(){return Z}});var r=t(82394),i=t(12691),o=t.n(i),c=t(82684),a=t(67971),s=t(10919),l=t(86673),u=t(19711),d=t(46261),f=t(9518),p=t(23831),h=t(49125),m=f.default.table.withConfig({displayName:"indexstyle__TableStyle",componentId:"sc-1wzfyed-0"})(["contain:size;width:100%;",""],(function(e){return(e.columnBorders||e.borderCollapseSeparate)&&"\n    border-collapse: separate;\n  "})),g=f.default.tr.withConfig({displayName:"indexstyle__TableRowStyle",componentId:"sc-1wzfyed-1"})(["",""],(function(e){return!e.noHover&&"\n    &:hover {\n      background: ".concat((e.theme.interactive||p.Z.interactive).rowHoverBackground,";\n      cursor: pointer;\n    }\n  ")})),v=(0,f.css)(["text-overflow:ellipsis;white-space:nowrap;"," "," "," "," "," ",""],(function(e){return!e.alignTop&&"\n    vertical-align: middle;\n  "}),(function(e){return e.alignTop&&"\n    vertical-align: top;\n  "}),(function(e){return!e.noBorder&&"\n    border-bottom: 1px solid ".concat((e.theme.borders||p.Z.borders).light,";\n  ")}),(function(e){return e.compact&&"\n    padding: ".concat(h.iI/2,"px ").concat(h.iI,"px;\n  ")}),(function(e){return!e.compact&&"\n    padding: ".concat(h.iI,"px ").concat(2*h.iI,"px;\n  ")}),(function(e){return e.maxWidth&&"\n    max-width: ".concat(e.maxWidth,";\n  ")})),b=f.default.th.withConfig({displayName:"indexstyle__TableHeadStyle",componentId:"sc-1wzfyed-2"})([""," "," "," ",""],v,(function(e){return e.columnBorders&&"\n    border: 1px solid ".concat((e.theme.borders||p.Z.borders).light,";\n    border-right: none;\n  ")}),(function(e){return e.columnBorders&&e.last&&"\n    border-right: 1px solid ".concat((e.theme.borders||p.Z.borders).light,";\n  ")}),(function(e){return e.sticky&&"\n    background-color: ".concat((e.theme||p.Z).background.panel,";\n    border-bottom: 1px solid ").concat((e.theme.borders||p.Z.borders).medium,";\n    z-index: 1;\n    position: sticky;\n    top: 0;\n\n    &:first-child {\n      left: 0;\n      z-index: 2;\n    }\n  ")})),x=f.default.td.withConfig({displayName:"indexstyle__TableDataStyle",componentId:"sc-1wzfyed-3"})([""," "," "," "," "," ",""],v,(function(e){return e.columnBorders&&"\n    border-left: 1px solid ".concat((e.theme.borders||p.Z.borders).light,";\n  ")}),(function(e){return e.columnBorders&&e.last&&"\n    border-right: 1px solid ".concat((e.theme.borders||p.Z.borders).light,";\n  ")}),(function(e){return e.stickyFirstColumn&&"\n    background-color: ".concat((e.theme||p.Z).background.panel,";\n    z-index: 1;\n    position: sticky;\n    left: 0;\n  ")}),(function(e){return e.selected&&"\n    background-color: ".concat((e.theme.interactive||p.Z.interactive).activeBorder,";\n  ")}),(function(e){return e.wrapColumns&&"\n    white-space: break-spaces;\n  "})),j=t(28598);function y(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function w(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?y(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):y(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Z=function(e){var n=e.alignTop,t=e.borderCollapseSeparate,r=e.buildLinkProps,i=e.columnBorders,f=e.columnFlex,p=e.columnMaxWidth,h=e.columns,v=void 0===h?[]:h,y=e.compact,Z=e.isSelectedRow,C=e.noBorder,k=e.noHeader,I=e.onClickRow,_=e.rows,P=e.stickyFirstColumn,O=e.stickyHeader,H=e.uuid,S=e.wrapColumns,V=(0,c.useMemo)((function(){return f.reduce((function(e,n){return e+(n||0)}),0)}),f),E=(0,c.useCallback)((function(e){if(f[e]){var n=Math.round(f[e]/V*100);return"".concat(n,"%")}return null}),[]),M=(0,c.useMemo)((function(){return null===_||void 0===_?void 0:_.map((function(e,t){var a=null===r||void 0===r?void 0:r(t),l=e.map((function(r,o){return(0,j.jsx)(x,{alignTop:n,columnBorders:i,compact:y,last:o===e.length-1,maxWidth:null===p||void 0===p?void 0:p(o),noBorder:C,selected:null===Z||void 0===Z?void 0:Z(t),stickyFirstColumn:P&&0===o,width:E(o),wrapColumns:S,children:r},"".concat(H,"-row-").concat(t,"-cell-").concat(o))})),u=(0,j.jsx)(g,{noHover:!(a||I),onClick:I?function(){return I(t)}:null,children:l},"".concat(H,"-row-").concat(t));return a?(0,c.createElement)(o(),w(w({},a),{},{key:"".concat(H,"-row-link-").concat(t),passHref:!0}),(0,j.jsx)(s.Z,{fullWidth:!0,noHoverUnderline:!0,noOutline:!0,style:{display:"table-row-group"},verticalAlignContent:!0,children:u})):u}))}),[n,r,E,p,v,y,Z,C,I,_]);return(0,j.jsxs)(m,{borderCollapseSeparate:t,columnBorders:i,children:[(null===v||void 0===v?void 0:v.length)>=1&&!k&&(0,j.jsx)(g,{noHover:!0,children:v.map((function(e,n){return(0,j.jsx)(b,{columnBorders:i,compact:y,last:n===v.length-1,noBorder:C,sticky:O,children:(0,j.jsxs)(a.Z,{alignItems:"center",children:[(0,j.jsx)(u.ZP,{bold:!0,leftAligned:!0,monospace:!0,muted:!0,children:e.label?e.label():e.uuid}),e.tooltipMessage&&(0,j.jsx)(l.Z,{ml:"4px",children:(0,j.jsx)(d.Z,{appearBefore:!0,label:(0,j.jsx)(u.ZP,{leftAligned:!0,children:e.tooltipMessage}),lightBackground:!0,primary:!0})})]})},"".concat(H,"-col-").concat(e.uuid,"-").concat(n))}))}),M]})}},82944:function(e,n,t){"use strict";var r=t(82394),i=t(91835),o=t(82684),c=t(9518),a=t(69898),s=t(28598);function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function u(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var d=c.default.input.withConfig({displayName:"TextInput__TextInputStyle",componentId:"sc-1ii4qtc-0"})(["",""],a.p),f=function(e,n){var t=(0,i.Z)({},e);return(0,s.jsx)(a.Z,u(u({},t),{},{input:(0,s.jsx)(d,u({},t)),ref:n}))};n.Z=o.forwardRef(f)},61519:function(e,n,t){"use strict";var r=t(28598);n.Z=function(e){var n=e.size;return(0,r.jsxs)("svg",{width:n,height:n,viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 3H9V9H3V3ZM10 2V9H17V16H24V24H17H16H10H9H2V17V16V10V9V2H10ZM16 23V17H10V23H16ZM17 23H23V17H17V23ZM16 16V10H10V16H16ZM9 10V16H3V10H9ZM9 17V23H3V17H9Z",fill:"url(#paint0_linear_2738_140355)"}),(0,r.jsx)("defs",{children:(0,r.jsxs)("linearGradient",{id:"paint0_linear_2738_140355",x1:"2",y1:"13",x2:"24",y2:"13",gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{offset:"0.28125",stopColor:"#7D55EC"}),(0,r.jsx)("stop",{offset:"1",stopColor:"#2AB2FE"})]})})]})}},73892:function(e,n,t){"use strict";t.r(n);var r=t(12757),i=t(82684),o=t(83455),c=t(60328),a=t(51404),s=t(67971),l=t(87372),u=t(31866),d=t(86673),f=t(17903),p=t(19711),h=t(82944),m=t(41374),g=t(10503),v=t(73899),b=t(73942),x=t(99994),j=t(49125),y=t(72454),w=t(90211),Z=t(96510),C=t(47999),k=t(62084),I=t(65597),_=t(28598);function P(e){var n=e.fetchInstances,t=e.instance,a=e.instanceType,l=(0,i.useRef)(null),u=(0,i.useState)(),f=u[0],h=u[1],v=(0,i.useState)(),b=v[0],x=v[1],y=t.name,w=t.task_arn,P={};w&&(P.task_arn=w);var O=(0,o.Db)(m.ZP.instances.clusters.useUpdate(a,y),{onSuccess:function(e){return(0,Z.wD)(e,{callback:function(){n(),h(!1)},onErrorCallback:function(e){var n=e.error,t=n.errors,r=n.message;console.log(t,r)}})}}),H=(0,r.Z)(O,1)[0],S=(0,o.Db)(m.ZP.instances.clusters.useDelete(a,y,P),{onSuccess:function(e){return(0,Z.wD)(e,{callback:function(){n(),h(!1)},onErrorCallback:function(e){var n=e.error,t=n.errors,r=n.message;console.log(t,r)}})}}),V=(0,r.Z)(S,1)[0],E=(0,i.useMemo)((function(){var e=t.status,n=[{label:function(){return(0,_.jsx)(p.ZP,{children:"Delete instance"})},onClick:function(){return x(!0)},uuid:"delete_instance"}];return"STOPPED"===e?n.unshift({label:function(){return(0,_.jsx)(p.ZP,{children:"Resume instance"})},onClick:function(){return H({instance:{action:"resume",name:t.name,task_arn:t.task_arn}})},uuid:"resume_instance"}):"RUNNING"===e&&n.unshift({label:function(){return(0,_.jsx)(p.ZP,{children:"Stop instance"})},onClick:function(){return H({instance:{action:"stop",name:t.name,task_arn:t.task_arn}})},uuid:"stop_instance"}),n}),[t]);return(0,_.jsx)(_.Fragment,{children:"ecs"===a&&(0,_.jsxs)("div",{ref:l,style:{position:"relative",zIndex:"1"},children:[(0,_.jsx)(c.Z,{iconOnly:!0,onClick:function(){return h(!f)},children:(0,_.jsx)(g.mH,{size:2*j.iI})}),(0,_.jsx)(C.Z,{disableEscape:!0,onClickOutside:function(){h(!1),x(!1)},open:f,children:b?(0,_.jsxs)(I.f,{leftOffset:30*-j.iI,topOffset:3*-j.iI,width:30*j.iI,children:[(0,_.jsx)(p.ZP,{children:"Are you sure you want to delete"}),(0,_.jsx)(p.ZP,{children:"this instance? You may not be"}),(0,_.jsx)(p.ZP,{children:"able to recover your data."}),(0,_.jsx)(d.Z,{mt:1}),(0,_.jsxs)(s.Z,{children:[(0,_.jsx)(c.Z,{danger:!0,onClick:V,children:"cd Confirm"}),(0,_.jsx)(d.Z,{ml:1}),(0,_.jsx)(c.Z,{default:!0,onClick:function(){return x(!1)},children:"Cancel"})]})]}):(0,_.jsx)(k.Z,{items:E,left:25*-j.iI,open:f,parentRef:l,topOffset:3*-j.iI,uuid:"Manage/more_actions",width:25*j.iI})})]})})}n.default=function(){var e,n=(0,i.useState)(),t=n[0],C=n[1],k=(0,i.useState)(),I=k[0],O=k[1],H=(0,i.useState)(),S=(H[0],H[1],m.ZP.status.list().data),V=(null===S||void 0===S||null===(e=S.status)||void 0===e?void 0:e.instance_type)||"ecs",E=m.ZP.instances.clusters.list(V,{},{refreshInterval:3e3,revalidateOnFocus:!0}),M=E.data,N=E.mutate,B=(0,o.Db)(m.ZP.instances.clusters.useCreate(V),{onSuccess:function(e){return(0,Z.wD)(e,{callback:function(){N(),C(!1)},onErrorCallback:function(e){var n=e.error,t=n.errors,r=n.message;console.log(t,r)}})}}),D=(0,r.Z)(B,2),z=D[0],T=D[1].isLoading,R=(0,i.useMemo)((function(){var e;return null===M||void 0===M||null===(e=M.instances)||void 0===e?void 0:e.filter((function(e){return e.name}))}),[M]);return(0,_.jsx)(a.Z,{afterWidth:y.k1,beforeWidth:y.k1,breadcrumbs:[{bold:!0,label:function(){return"Manage"}}],navigationItems:[],subheaderChildren:(0,_.jsx)(_.Fragment,{children:t?(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(l.Z,{default:!0,level:5,monospace:!0,children:"Configure new instance"}),(0,_.jsx)(f.Z,{columnFlex:[null,3],rows:[[(0,_.jsx)(p.ZP,{bold:!0,color:v.cM,children:"Instance name"}),(0,_.jsx)(h.Z,{label:"ecs"===V?"Spaces will be replaced by underscores":"Spaces will be replaced by hyphens",monospace:!0,onChange:function(e){e.preventDefault(),O(e.target.value)},placeholder:"Name your new instance",value:I})]]}),T&&(0,_.jsx)(d.Z,{mt:1,children:(0,_.jsx)(p.ZP,{warning:!0,children:"This may take up to a few minutes... Once the service is created, it may take another 5-10 minutes for the service to be accessible."})}),(0,_.jsx)(d.Z,{my:2,children:(0,_.jsxs)(s.Z,{children:[(0,_.jsx)(u.ZP,{background:v.a$,bold:!0,inline:!0,loading:T,onClick:function(){return z({instance:{name:(e=I,"ecs"===V?(0,w.We)(e,"_"):(0,w.We)(e,"-"))}});var e},uuid:"EnvironmentListPage/new",children:"Create"}),(0,_.jsx)(d.Z,{ml:1}),(0,_.jsx)(u.ZP,{bold:!0,inline:!0,onClick:function(){return C(!1)},uuid:"EnvironmentListPage/cancel",children:"Cancel"})]})})]}):(0,_.jsx)(u.ZP,{background:x.eW,beforeElement:(0,_.jsx)(g.mm,{size:2.5*j.iI}),bold:!0,inline:!0,onClick:function(){O((0,w.Y6)()),C(!0)},uuid:"EnvironmentListPage/new_instance",children:"Create new instance"})}),title:"Manage",uuid:"Manage/index",children:(0,_.jsx)(f.Z,{columns:[{uuid:"Status"},{uuid:"Instance Name"},{uuid:"Type"},{uuid:"Public IP address"},{uuid:"Open"},{label:function(){return""},uuid:"Actions"}],columnFlex:[2,4,2,3,1,null],rows:null===R||void 0===R?void 0:R.map((function(e){var n=e.ip,t=e.name,r=e.status,i=e.type,o="http://".concat(n);return"ecs"===V&&(o="http://".concat(n,":6789")),[(0,_.jsx)(c.Z,{borderRadius:b.D7,danger:"STOPPED"===r,default:"PROVISIONING"===r,notClickable:!0,padding:"6px",primary:"RUNNING"===r,warning:"PENDING"===r,children:(0,w.vg)(r)}),(0,_.jsx)(p.ZP,{children:t}),(0,_.jsx)(p.ZP,{children:(0,w.vg)(i)}),(0,_.jsx)(p.ZP,{children:n}),(0,_.jsx)(c.Z,{iconOnly:!0,onClick:function(){return window.open(o)},children:(0,_.jsx)(g.M0,{size:2*j.iI})}),(0,_.jsx)(P,{fetchInstances:N,instance:e,instanceType:V})]}))})})}},13157:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/manage",function(){return t(73892)}])}},function(e){e.O(0,[4259,2212,7689,1374,714,4247,7343,9898,9774,2888,179],(function(){return n=13157,e(e.s=n);var n}));var n=e.O();_N_E=n}]);