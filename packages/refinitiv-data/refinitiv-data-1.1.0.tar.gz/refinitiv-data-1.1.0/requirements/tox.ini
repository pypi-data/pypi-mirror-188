# tox (https://tox.readthedocs.io/) is a tool for running tests
# in multiple virtualenvs. This configuration file will run the
# test suite on all supported python versions. To use it, "pip install tox"
# and then run "tox" from this directory.

[tox]
envlist = .venv-py{36,37,38,39,310,311}-{dev,edev,qa,eqa,test,build}
minversion = 3.23.0
toxworkdir = ../../
requires = virtualenv >= 20.0
skipsdist = true

[testenv]
download = true
setenv =
    VIRTUALENV_SEEDER=pip
skip_install = true
recreate = true
deps =
    dev: -rdev.txt
    edev: -rdev-editable.txt
    qa: -rqa.txt
    eqa: -rqa-editable.txt
    test: -rtest.txt
    build: -rbuild.txt
    pipdeptree
whitelist_externals =
    cmd
commands =
    python -V
    pip -V
    pipdeptree --warn fail
    - python -c "import refinitiv.data as rd; print(rd.__version__);"
    - cmd /c rmdir ..\..\log ..\..\.tmp
