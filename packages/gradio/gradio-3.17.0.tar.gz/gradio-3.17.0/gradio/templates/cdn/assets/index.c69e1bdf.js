import{S as L,i as Z,s as F,E as q,h as _,k as d,l as v,F as O,q as h,f as ne,a2 as K,e as H,c as S,d as j,n as D,J,m as V,I as re,D as M,j as A,B as ie,v as B,w as E,t as k,b as w,x as N,K as fe,y as ce,z as ue,A as _e,C as me,o as Y,p as G}from"./index.2d0d4ca5.js";import{g as ge}from"./color.bfa3abe7.js";import{B as de}from"./BlockLabel.e93f7894.js";import{E as he}from"./Empty.c0872e32.js";function be(a){let e,t,l;return{c(){e=q("svg"),t=q("path"),l=q("path"),_(t,"fill","currentColor"),_(t,"d","M12 15H5a3 3 0 0 1-3-3v-2a3 3 0 0 1 3-3h5V5a1 1 0 0 0-1-1H3V2h6a3 3 0 0 1 3 3zM5 9a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h5V9zm15 14v2a1 1 0 0 0 1 1h5v-4h-5a1 1 0 0 0-1 1z"),_(l,"fill","currentColor"),_(l,"d","M2 30h28V2Zm26-2h-7a3 3 0 0 1-3-3v-2a3 3 0 0 1 3-3h5v-2a1 1 0 0 0-1-1h-6v-2h6a3 3 0 0 1 3 3Z"),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"xmlns:xlink","http://www.w3.org/1999/xlink"),_(e,"aria-hidden","true"),_(e,"role","img"),_(e,"class","iconify iconify--carbon"),_(e,"width","100%"),_(e,"height","100%"),_(e,"preserveAspectRatio","xMidYMid meet"),_(e,"viewBox","0 0 32 32")},m(s,o){d(s,e,o),v(e,t),v(e,l)},p:O,i:O,o:O,d(s){s&&h(e)}}}class oe extends L{constructor(e){super(),Z(this,e,null,be,F,{})}}function P(a,e,t){const l=a.slice();return l[15]=e[t][0],l[22]=e[t][1],l}function Q(a,e,t){const l=a.slice();return l[15]=e[t][0],l[16]=e[t][1],l}function U(a,e,t){const l=a.slice();return l[16]=e[t][0],l[19]=e[t][1],l[21]=t,l}function pe(a){let e,t,l=a[1]&&W(),s=a[0],o=[];for(let n=0;n<s.length;n+=1)o[n]=X(P(a,s,n));return{c(){l&&l.c(),e=j(),t=H("div");for(let n=0;n<o.length;n+=1)o[n].c();_(t,"class","textfield svelte-1m96bx3"),_(t,"data-testid","highlighted-text:textfield")},m(n,i){l&&l.m(n,i),d(n,e,i),d(n,t,i);for(let r=0;r<o.length;r+=1)o[r].m(t,null)},p(n,i){if(n[1]?l||(l=W(),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),i&1){s=n[0];let r;for(r=0;r<s.length;r+=1){const c=P(n,s,r);o[r]?o[r].p(c,i):(o[r]=X(c),o[r].c(),o[r].m(t,null))}for(;r<o.length;r+=1)o[r].d(1);o.length=s.length}},d(n){l&&l.d(n),n&&h(e),n&&h(t),J(o,n)}}}function ve(a){let e,t,l=a[1]&&$(a),s=a[0],o=[];for(let n=0;n<s.length;n+=1)o[n]=le(Q(a,s,n));return{c(){l&&l.c(),e=j(),t=H("div");for(let n=0;n<o.length;n+=1)o[n].c();_(t,"class","textfield svelte-1m96bx3")},m(n,i){l&&l.m(n,i),d(n,e,i),d(n,t,i);for(let r=0;r<o.length;r+=1)o[r].m(t,null)},p(n,i){if(n[1]?l?l.p(n,i):(l=$(n),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),i&15){s=n[0];let r;for(r=0;r<s.length;r+=1){const c=Q(n,s,r);o[r]?o[r].p(c,i):(o[r]=le(c),o[r].c(),o[r].m(t,null))}for(;r<o.length;r+=1)o[r].d(1);o.length=s.length}},d(n){l&&l.d(n),n&&h(e),n&&h(t),J(o,n)}}}function W(a){let e;return{c(){e=H("div"),e.innerHTML=`<span>-1</span> 
			<span>0</span> 
			<span>+1</span>`,_(e,"class","color-legend svelte-1m96bx3"),_(e,"data-testid","highlighted-text:color-legend")},m(t,l){d(t,e,l)},d(t){t&&h(e)}}}function X(a){let e,t,l=a[15]+"",s,o,n;return{c(){e=H("span"),t=H("span"),s=S(l),o=j(),_(t,"class","text svelte-1m96bx3"),_(e,"class","textspan score-text svelte-1m96bx3"),_(e,"style",n="background-color: rgba("+(a[22]<0?"128, 90, 213,"+-a[22]:"239, 68, 60,"+a[22])+")")},m(i,r){d(i,e,r),v(e,t),v(t,s),v(e,o)},p(i,r){r&1&&l!==(l=i[15]+"")&&D(s,l),r&1&&n!==(n="background-color: rgba("+(i[22]<0?"128, 90, 213,"+-i[22]:"239, 68, 60,"+i[22])+")")&&_(e,"style",n)},d(i){i&&h(e)}}}function $(a){let e,t=Object.entries(a[2]),l=[];for(let s=0;s<t.length;s+=1)l[s]=x(U(a,t,s));return{c(){e=H("div");for(let s=0;s<l.length;s+=1)l[s].c();_(e,"class","category-legend svelte-1m96bx3"),_(e,"data-testid","highlighted-text:category-legend")},m(s,o){d(s,e,o);for(let n=0;n<l.length;n+=1)l[n].m(e,null)},p(s,o){if(o&100){t=Object.entries(s[2]);let n;for(n=0;n<t.length;n+=1){const i=U(s,t,n);l[n]?l[n].p(i,o):(l[n]=x(i),l[n].c(),l[n].m(e,null))}for(;n<l.length;n+=1)l[n].d(1);l.length=t.length}},d(s){s&&h(e),J(l,s)}}}function x(a){let e,t=a[16]+"",l,s,o,n,i;function r(){return a[8](a[16])}function c(){return a[9](a[16])}return{c(){e=H("div"),l=S(t),s=j(),_(e,"class","category-label svelte-1m96bx3"),_(e,"style",o="background-color:"+a[19].secondary)},m(u,p){d(u,e,p),v(e,l),v(e,s),n||(i=[V(e,"mouseover",r),V(e,"focus",c),V(e,"mouseout",a[10]),V(e,"blur",a[11])],n=!0)},p(u,p){a=u,p&4&&t!==(t=a[16]+"")&&D(l,t),p&4&&o!==(o="background-color:"+a[19].secondary)&&_(e,"style",o)},d(u){u&&h(e),n=!1,re(i)}}}function ee(a){let e,t,l=a[16]+"",s;return{c(){e=S(`\xA0
					`),t=H("span"),s=S(l),_(t,"class","label svelte-1m96bx3"),A(t,"background-color",a[16]===null||a[3]&&a[3]!==a[16]?"":a[2][a[16]].primary,!1)},m(o,n){d(o,e,n),d(o,t,n),v(t,s)},p(o,n){n&1&&l!==(l=o[16]+"")&&D(s,l),n&13&&A(t,"background-color",o[16]===null||o[3]&&o[3]!==o[16]?"":o[2][o[16]].primary,!1)},d(o){o&&h(e),o&&h(t)}}}function le(a){let e,t,l=a[15]+"",s,o,n,i=!a[1]&&a[16]!==null&&ee(a);return{c(){e=H("span"),t=H("span"),s=S(l),o=j(),i&&i.c(),n=j(),_(t,"class","text svelte-1m96bx3"),M(t,"no-label",!a[2][a[16]]),_(e,"class","textspan svelte-1m96bx3"),M(e,"no-cat",a[16]===null||a[3]&&a[3]!==a[16]),M(e,"hl",a[16]!==null),A(e,"background-color",a[16]===null||a[3]&&a[3]!==a[16]?"":a[2][a[16]].secondary,!1)},m(r,c){d(r,e,c),v(e,t),v(t,s),v(e,o),i&&i.m(e,null),v(e,n)},p(r,c){c&1&&l!==(l=r[15]+"")&&D(s,l),c&5&&M(t,"no-label",!r[2][r[16]]),!r[1]&&r[16]!==null?i?i.p(r,c):(i=ee(r),i.c(),i.m(e,n)):i&&(i.d(1),i=null),c&9&&M(e,"no-cat",r[16]===null||r[3]&&r[3]!==r[16]),c&1&&M(e,"hl",r[16]!==null),c&13&&A(e,"background-color",r[16]===null||r[3]&&r[3]!==r[16]?"":r[2][r[16]].secondary,!1)},d(r){r&&h(e),i&&i.d()}}}function ke(a){let e;function t(o,n){return o[4]==="categories"?ve:pe}let l=t(a),s=l(a);return{c(){s.c(),e=ne()},m(o,n){s.m(o,n),d(o,e,n)},p(o,[n]){l===(l=t(o))&&s?s.p(o,n):(s.d(1),s=l(o),s&&(s.c(),s.m(e.parentNode,e)))},i:O,o:O,d(o){s.d(o),o&&h(e)}}}function ye(a,e,t){const l=typeof document<"u";let{value:s=[]}=e,{show_legend:o=!1}=e,{color_map:n={}}=e,i,r={},c="";function u(g,y){if(!i){var T=document.createElement("canvas");i=T.getContext("2d")}i.fillStyle=g,i.fillRect(0,0,1,1);const[R,se,ae]=i.getImageData(0,0,1,1).data;return i.clearRect(0,0,1,1),`rgba(${R}, ${se}, ${ae}, ${255/y})`}let p;function m(g){t(3,c=g)}function C(){t(3,c="")}const f=g=>m(g),b=g=>m(g),I=()=>C(),z=()=>C();return a.$$set=g=>{"value"in g&&t(0,s=g.value),"show_legend"in g&&t(1,o=g.show_legend),"color_map"in g&&t(7,n=g.color_map)},a.$$.update=()=>{if(a.$$.dirty&129){let g=function(){for(const y in n){const T=n[y].trim();T in K?t(2,r[y]=K[T],r):t(2,r[y]={primary:l?u(n[y],1):n[y],secondary:l?u(n[y],.5):n[y]},r)}};if(n||t(7,n={}),s.length>0){for(let[y,T]of s)if(T!==null)if(typeof T=="string"){if(t(4,p="categories"),!(T in n)){let R=ge(Object.keys(n).length);t(7,n[T]=R,n)}}else t(4,p="scores")}g()}},[s,o,r,c,p,m,C,n,f,b,I,z]}class we extends L{constructor(e){super(),Z(this,e,ye,ke,F,{value:0,show_legend:1,color_map:7})}}function te(a){let e,t;return e=new de({props:{Icon:oe,label:a[5],disable:typeof a[0].container=="boolean"&&!a[0].container}}),{c(){B(e.$$.fragment)},m(l,s){E(e,l,s),t=!0},p(l,s){const o={};s&32&&(o.label=l[5]),s&1&&(o.disable=typeof l[0].container=="boolean"&&!l[0].container),e.$set(o)},i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){w(e.$$.fragment,l),t=!1},d(l){N(e,l)}}}function He(a){let e,t;return e=new he({props:{$$slots:{default:[je]},$$scope:{ctx:a}}}),{c(){B(e.$$.fragment)},m(l,s){E(e,l,s),t=!0},p(l,s){const o={};s&512&&(o.$$scope={dirty:s,ctx:l}),e.$set(o)},i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){w(e.$$.fragment,l),t=!1},d(l){N(e,l)}}}function Te(a){let e,t;return e=new we({props:{value:a[3],show_legend:a[4],color_map:a[0].color_map}}),{c(){B(e.$$.fragment)},m(l,s){E(e,l,s),t=!0},p(l,s){const o={};s&8&&(o.value=l[3]),s&16&&(o.show_legend=l[4]),s&1&&(o.color_map=l[0].color_map),e.$set(o)},i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){w(e.$$.fragment,l),t=!1},d(l){N(e,l)}}}function je(a){let e,t;return e=new oe({}),{c(){B(e.$$.fragment)},m(l,s){E(e,l,s),t=!0},i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){w(e.$$.fragment,l),t=!1},d(l){N(e,l)}}}function Ce(a){let e,t,l,s,o,n,i;const r=[a[6]];let c={};for(let f=0;f<r.length;f+=1)c=ce(c,r[f]);e=new ue({props:c});let u=a[5]&&te(a);const p=[Te,He],m=[];function C(f,b){return f[3]?0:1}return s=C(a),o=m[s]=p[s](a),{c(){B(e.$$.fragment),t=j(),u&&u.c(),l=j(),o.c(),n=ne()},m(f,b){E(e,f,b),d(f,t,b),u&&u.m(f,b),d(f,l,b),m[s].m(f,b),d(f,n,b),i=!0},p(f,b){const I=b&64?_e(r,[me(f[6])]):{};e.$set(I),f[5]?u?(u.p(f,b),b&32&&k(u,1)):(u=te(f),u.c(),k(u,1),u.m(l.parentNode,l)):u&&(Y(),w(u,1,1,()=>{u=null}),G());let z=s;s=C(f),s===z?m[s].p(f,b):(Y(),w(m[z],1,1,()=>{m[z]=null}),G(),o=m[s],o?o.p(f,b):(o=m[s]=p[s](f),o.c()),k(o,1),o.m(n.parentNode,n))},i(f){i||(k(e.$$.fragment,f),k(u),k(o),i=!0)},o(f){w(e.$$.fragment,f),w(u),w(o),i=!1},d(f){N(e,f),f&&h(t),u&&u.d(f),f&&h(l),m[s].d(f),f&&h(n)}}}function Me(a){let e,t;return e=new ie({props:{test_id:"highlighted-text",visible:a[2],elem_id:a[1],disable:typeof a[0].container=="boolean"&&!a[0].container,$$slots:{default:[Ce]},$$scope:{ctx:a}}}),{c(){B(e.$$.fragment)},m(l,s){E(e,l,s),t=!0},p(l,[s]){const o={};s&4&&(o.visible=l[2]),s&2&&(o.elem_id=l[1]),s&1&&(o.disable=typeof l[0].container=="boolean"&&!l[0].container),s&633&&(o.$$scope={dirty:s,ctx:l}),e.$set(o)},i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){w(e.$$.fragment,l),t=!1},d(l){N(e,l)}}}function Be(a,e,t){let{elem_id:l=""}=e,{visible:s=!0}=e,{value:o}=e,{show_legend:n}=e,{color_map:i={}}=e,{label:r}=e,{style:c={}}=e,{loading_status:u}=e;const p=fe();return a.$$set=m=>{"elem_id"in m&&t(1,l=m.elem_id),"visible"in m&&t(2,s=m.visible),"value"in m&&t(3,o=m.value),"show_legend"in m&&t(4,n=m.show_legend),"color_map"in m&&t(7,i=m.color_map),"label"in m&&t(5,r=m.label),"style"in m&&t(0,c=m.style),"loading_status"in m&&t(6,u=m.loading_status)},a.$$.update=()=>{a.$$.dirty&129&&!c.color_map&&Object.keys(i).length&&t(0,c.color_map=i,c),a.$$.dirty&8&&p("change")},[c,l,s,o,n,r,u,i]}class Ee extends L{constructor(e){super(),Z(this,e,Be,Me,F,{elem_id:1,visible:2,value:3,show_legend:4,color_map:7,label:5,style:0,loading_status:6})}}var Ve=Ee;const Ae=["static"],De=a=>({type:"Array<[string, string | number]>",description:"list of text spans and corresponding label / value"});export{Ve as Component,De as document,Ae as modes};
//# sourceMappingURL=index.c69e1bdf.js.map
