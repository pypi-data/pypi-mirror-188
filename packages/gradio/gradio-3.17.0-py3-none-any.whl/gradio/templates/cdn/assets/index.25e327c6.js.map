{"version":3,"file":"index.25e327c6.js","sources":["../../../../ui/packages/icons/src/Chat.svelte","../../../../ui/packages/chatbot/src/ChatBot.svelte","../../../../ui/packages/app/src/components/Chatbot/Chatbot.svelte","../../../../ui/packages/app/src/components/Chatbot/index.ts"],"sourcesContent":["<svg\n\txmlns=\"http://www.w3.org/2000/svg\"\n\txmlns:xlink=\"http://www.w3.org/1999/xlink\"\n\taria-hidden=\"true\"\n\trole=\"img\"\n\tclass=\"iconify iconify--carbon\"\n\twidth=\"100%\"\n\theight=\"100%\"\n\tpreserveAspectRatio=\"xMidYMid meet\"\n\tviewBox=\"0 0 32 32\"\n>\n\t<path\n\t\tfill=\"currentColor\"\n\t\td=\"M17.74 30L16 29l4-7h6a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h9v2H6a4 4 0 0 1-4-4V8a4 4 0 0 1 4-4h20a4 4 0 0 1 4 4v12a4 4 0 0 1-4 4h-4.84Z\"\n\t/>\n\t<path fill=\"currentColor\" d=\"M8 10h16v2H8zm0 6h10v2H8z\" />\n</svg>\n","<script lang=\"ts\">\n\timport { beforeUpdate, afterUpdate, createEventDispatcher } from \"svelte\";\n\timport { colors } from \"@gradio/theme\";\n\timport type { Styles } from \"@gradio/utils\";\n\n\texport let value: Array<[string, string]>;\n\texport let style: Styles = {};\n\n\tlet div: HTMLDivElement;\n\tlet autoscroll: Boolean;\n\n\tconst dispatch = createEventDispatcher<{ change: undefined }>();\n\n\tbeforeUpdate(() => {\n\t\tautoscroll =\n\t\t\tdiv && div.offsetHeight + div.scrollTop > div.scrollHeight - 20;\n\t});\n\n\tafterUpdate(() => {\n\t\tif (autoscroll) div.scrollTo(0, div.scrollHeight);\n\t});\n\n\t$: value && dispatch(\"change\");\n\n\t$: _colors = get_colors();\n\n\tfunction get_color(c: string) {\n\t\tif (c in colors) {\n\t\t\treturn colors[c as keyof typeof colors].primary;\n\t\t} else {\n\t\t\treturn c;\n\t\t}\n\t}\n\n\tfunction get_colors() {\n\t\tif (!style.color_map) {\n\t\t\treturn [\"#fb923c\", \"#9ca3af\"];\n\t\t} else {\n\t\t\treturn [get_color(style.color_map[0]), get_color(style.color_map[1])];\n\t\t}\n\t}\n</script>\n\n<div class=\"wrap\" bind:this={div}>\n\t<div class=\"message-wrap\">\n\t\t{#each value as message, i}\n\t\t\t<div\n\t\t\t\tdata-testid=\"user\"\n\t\t\t\tclass:latest={i === value.length - 1}\n\t\t\t\tclass=\"message user\"\n\t\t\t\tstyle={\"background-color:\" + _colors[0]}\n\t\t\t>\n\t\t\t\t{@html message[0]}\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tdata-testid=\"bot\"\n\t\t\t\tclass:latest={i === value.length - 1}\n\t\t\t\tclass=\"message bot\"\n\t\t\t\tstyle={\"background-color:\" + _colors[1]}\n\t\t\t>\n\t\t\t\t{@html message[1]}\n\t\t\t</div>\n\t\t{/each}\n\t</div>\n</div>\n\n<style>\n\t.wrap {\n\t\theight: var(--size-80);\n\t\toverflow-y: auto;\n\t}\n\n\t.message-wrap {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: flex-end;\n\t\tpadding: var(--size-3);\n\t}\n\n\t.message-wrap > * + * {\n\t\tmargin-top: var(--size-4);\n\t}\n\t.message-wrap > div :global(img) {\n\t\tborder-radius: 13px;\n\t\tmax-width: 30vw;\n\t}\n\n\t.message {\n\t\tborder-width: var(--chatbot-border-width);\n\t\tborder-style: solid;\n\t\tborder-radius: var(--chatbot-border-radius);\n\t\tpadding: var(--size-2) var(--size-3);\n\t\tfont-size: var(--scale-00);\n\t\tline-height: var(--line-xs);\n\t}\n\n\t.user {\n\t\tborder-color: var(--chatbot-user-border-color-base);\n\t\tborder-bottom-right-radius: 0;\n\t\tbackground: var(--chatbot-user-background-base);\n\t\tcolor: var(--chatbot-user-text-color-base);\n\t}\n\n\t.user.latest {\n\t\tborder-color: var(--chatbot-user-border-color-latest);\n\t\tbackground: var(--chatbot-user-background-latest);\n\t\tcolor: var(--chatbot-user-text-color-latest);\n\t}\n\n\t.bot {\n\t\tplace-self: start;\n\t\tborder-color: var(--chatbot-bot-border-color-base);\n\t\tborder-bottom-left-radius: 0;\n\t\tbackground: var(--chatbot-bot-background-base);\n\t\tcolor: var(--chatbot-bot-text-color-base);\n\t}\n\n\t.bot.latest {\n\t\tborder-color: var(--chatbot-bot-border-color-latest);\n\t\tbackground: var(--chatbot-bot-background-latest);\n\t\tcolor: var(--chatbot-bot-text-color-latest);\n\t}\n</style>\n","<script lang=\"ts\">\n\timport { ChatBot } from \"@gradio/chatbot\";\n\timport { Block, BlockLabel } from \"@gradio/atoms\";\n\timport StatusTracker from \"../StatusTracker/StatusTracker.svelte\";\n\timport type { LoadingStatus } from \"../StatusTracker/types\";\n\timport type { Styles } from \"@gradio/utils\";\n\timport { Chat } from \"@gradio/icons\";\n\n\texport let elem_id: string = \"\";\n\texport let visible: boolean = true;\n\texport let value: Array<[string, string]> = [];\n\texport let style: Styles = {};\n\texport let label: string;\n\texport let show_label: boolean = true;\n\texport let color_map: Record<string, string> = {};\n\n\t$: if (!style.color_map && Object.keys(color_map).length) {\n\t\tstyle.color_map = color_map;\n\t}\n\n\texport let loading_status: LoadingStatus;\n</script>\n\n<Block padding={false} {elem_id} {visible}>\n\t<StatusTracker {...loading_status} />\n\t{#if show_label}\n\t\t<BlockLabel\n\t\t\t{show_label}\n\t\t\tIcon={Chat}\n\t\t\tlabel={label || \"Chatbot\"}\n\t\t\tdisable={typeof style.container === \"boolean\" && !style.container}\n\t\t/>\n\t{/if}\n\t<ChatBot {style} {value} on:change />\n</Block>\n","export { default as Component } from \"./Chatbot.svelte\";\nexport const modes = [\"static\"];\n\nexport const document = (config: Record<string, any>) => ({\n\ttype: \"Array<[string, string]>\",\n\tdescription: \"Represents list of message pairs of chat message.\",\n\texample_data: config.value ?? [\n\t\t[\"Hi\", \"Hello\"],\n\t\t[\"1 + 1\", \"2\"]\n\t]\n});\n"],"names":[],"mappings":"q6BAAA,SAWC,OAIA,wLCqCU,KAAQ,gBAQR,KAAQ,qJAVR,oBAAsB,KAAQ,iBAFvB,QAAM,KAAM,OAAS,CAAC,wFAU7B,oBAAsB,KAAQ,iBAFvB,QAAM,KAAM,OAAS,CAAC,UAVrC,gCAQA,6CAFQ,KAAQ,oCAFR,oBAAsB,KAAQ,sCAFvB,QAAM,KAAM,OAAS,CAAC,cAY7B,KAAQ,2BAFR,oBAAsB,KAAQ,sCAFvB,QAAM,KAAM,OAAS,CAAC,0DAX/B,0BAAL,uLAFJ,SACC,8EACQ,uBAAL,6HAAA,2EAxCQ,YACA,cAEP,EACA,OAEE,GAAW,IAEjB,OACC,EACC,GAAO,EAAI,aAAe,EAAI,UAAY,EAAI,aAAe,KAG/D,OACK,GAAY,EAAI,SAAS,EAAG,EAAI,YAAY,eAO9B,SACd,KAAK,GACD,EAAO,GAA0B,QAEjC,qBAKH,GAAM,WAGF,EAAU,EAAM,UAAU,IAAK,EAAU,EAAM,UAAU,MAFzD,UAAW,SAAS,2CAOF,wHArBzB,GAAS,EAAS,QAAQ,OAE1B,EAAU,+JCIL,QACC,MAAS,wBACA,MAAM,WAAc,YAAc,KAAM,qHADjD,MAAS,iCACA,MAAM,WAAc,YAAc,KAAM,2IANvC,gFACd,qOADc,qBACd,gYAFU,wUAfJ,UAAkB,OAClB,UAAmB,OACnB,eACA,eACA,YACA,aAAsB,OACtB,mBAMA,qXAJH,EAAM,WAAa,OAAO,KAAK,CAAS,EAAE,YACjD,EAAM,UAAY,8LChBP,IAAQ,CAAC,QAAQ,EAEjB,GAAW,AAAC,KACxB,KAAM,0BACN,YAAa,oDACb,aAAc,EAAO,OAAS,CAC7B,CAAC,KAAM,OAAO,EACd,CAAC,QAAS,GAAG,EAEf"}