"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_utils_discover_charts_tsx-app_views_profiling_content_tsx"],{"./app/components/onboardingPanel.tsx":(e,t,n)=>{n.d(t,{Z:()=>d});var r=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=n("./app/components/panels/index.tsx"),s=n("./app/styles/space.tsx"),o=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function a(e){let{image:t,children:n,...r}=e;return(0,o.tZ)(i.s_,{...r,children:(0,o.BX)(l,{children:[t?(0,o.tZ)(c,{children:t}):null,(0,o.tZ)(p,{centered:!t,children:n})]})})}a.displayName="OnboardingPanel";const l=(0,r.Z)("div",{target:"euclof22"})("padding:",(0,s.Z)(3),";position:relative;@media (min-width: ",(e=>e.theme.breakpoints.small),"){display:flex;align-items:center;flex-direction:row;justify-content:center;flex-wrap:wrap;min-height:300px;max-width:1000px;margin:0 auto;}@media (min-width: ",(e=>e.theme.breakpoints.medium),"){min-height:350px;}"),p=(0,r.Z)("div",{target:"euclof21"})("z-index:1;",(e=>e.centered?"text-align: center;":"")," ",(e=>e.centered?"max-width: 600px;":""),"@media (min-width: ",(e=>e.theme.breakpoints.small),"){flex:2;}"),c=(0,r.Z)(p,{target:"euclof20"})("position:relative;min-height:100px;max-width:300px;margin:",(0,s.Z)(2)," auto;@media (min-width: ",(e=>e.theme.breakpoints.small),"){flex:1;margin:",(0,s.Z)(3),";max-width:auto;}"),d=a},"./app/utils/discover/charts.tsx":(e,t,n)=>{n.d(t,{CX:()=>o,Xp:()=>d,gu:()=>l,x1:()=>p});var r=n("./app/locale.tsx"),i=n("./app/utils.tsx"),s=n("./app/utils/formatters.tsx");function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"number";return(0,i.ri)(e)?a(e,t):"—"}function a(e,t){if(!(0,i.ri)(e))return"—";switch(t){case"integer":case"number":return e.toLocaleString();case"percentage":return(0,s.rl)(e,2);case"duration":return(0,s.g9)(e/1e3,2,!0);case"size":return(0,i.F)(e);default:return e.toString()}}function l(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0;return p(e,t,n,r)}function p(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0;switch(t){case"integer":case"number":return n?(0,s.Du)(e):e.toLocaleString();case"percentage":return(0,s.rl)(e,0);case"duration":return c(e,r);case"size":return(0,i.F)(e,0);default:return e.toString()}}function c(e,t){if(t??=u(e),0===e)return"0";switch(t){case s.ps:{const t=(e/s.ps).toFixed(0);return(0,r.t)("%swk",t)}case s.x4:{const t=(e/s.x4).toFixed(0);return(0,r.t)("%sd",t)}case s.kr:{const t=(e/s.kr).toFixed(0);return(0,r.t)("%shr",t)}case s.EB:{const t=(e/s.EB).toFixed(0);return(0,r.t)("%smin",t)}case s.sh:{const t=(e/s.sh).toFixed(0);return(0,r.t)("%ss",t)}default:const t=e.toFixed(0);return(0,r.t)("%sms",t)}}function d(e,t){let n=0;const r=function(e,t){let n;if(e[0]?.data){let r,i=e[0];e.forEach(((n,s)=>{let{seriesName:o,data:a}=n;!1!==t?.selected?.[o]&&a.length&&(i=e[s],r??=e[s])})),r?.data&&(n={max:Math.max(...r.data.map((e=>{let{value:t}=e;return t})).filter((e=>!!e))),min:Math.min(...i.data.map((e=>{let{value:t}=e;return t})).filter((e=>!!e)))})}return n}(e,t);if(r){const e=(r.max+r.min)/2;n=u((r.max-r.min)/5),(e/n).toFixed(0).length>6&&(n=u(e))}return n}function u(e){return e>=s.ps?s.ps:e>=s.x4?s.x4:e>=s.kr?s.kr:e>=s.EB?s.EB:e>=s.sh?s.sh:1}},"./app/views/profiling/content.tsx":(e,t,n)=>{n.r(t),n.d(t,{default:()=>Q});var r=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=(n("../node_modules/core-js/modules/es.array.push.js"),n("../node_modules/react/index.js")),s=n("../node_modules/react-router/es/index.js"),o=n("./app/components/alert.tsx"),a=n("./app/components/button.tsx"),l=n("./app/components/buttonBar.tsx"),p=n("./app/components/datePageFilter.tsx"),c=n("./app/components/environmentPageFilter.tsx"),d=n("./app/components/layouts/thirds.tsx"),u=n("./app/components/noProjectMessage.tsx"),m=n("./app/components/organizations/pageFilterBar.tsx"),g=n("./app/components/organizations/pageFilters/container.tsx"),h=n("./app/components/pageHeadingQuestionTooltip.tsx"),x=n("./app/components/pagination.tsx"),f=n("./app/components/profiling/profileEventsTable.tsx"),Z=n("./app/components/projectPageFilter.tsx"),y=n("./app/components/sentryDocumentTitle.tsx"),b=n("./app/components/sidebar/types.tsx"),v=n("./app/components/smartSearchBar/index.tsx"),w=n("./app/constants/index.tsx"),k=n("./app/constants/pageFilters.tsx"),P=n("./app/locale.tsx"),j=n("./app/stores/sidebarPanelStore.tsx"),_=n("./app/styles/space.tsx"),z=n("./app/utils/analytics/trackAdvancedAnalyticsEvent.tsx"),B=n("./app/utils/profiling/hooks/useProfileEvents.tsx"),F=n("./app/utils/profiling/hooks/useProfileFilters.tsx"),S=n("./app/utils/queryString.tsx"),X=n("./app/utils/useOrganization.tsx"),q=n("./app/utils/usePageFilters.tsx"),C=n("./app/utils/useProjects.tsx"),E=n("./app/views/profiling/landing/profileCharts.tsx"),T=n("./images/spot/performance-empty-state.svg"),D=n("./app/components/onboardingPanel.tsx"),L=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function A(e){return(0,L.BX)(D.Z,{image:(0,L.tZ)(M,{src:T}),children:[(0,L.tZ)("h3",{children:(0,P.t)("Function level insights")}),(0,L.tZ)("p",{children:(0,P.t)("Discover slow-to-execute or resource intensive functions within your application")}),(0,L.tZ)(N,{gap:1,children:e.children})]})}A.displayName="ProfilingOnboardingPanel";const M=(0,r.Z)("img",{target:"eb17yy31"})("@media (min-width: ",(e=>e.theme.breakpoints.small),"){user-select:none;position:absolute;top:0;bottom:0;width:220px;margin-top:auto;margin-bottom:auto;transform:translateX(-50%);left:50%;}@media (min-width: ",(e=>e.theme.breakpoints.large),"){transform:translateX(-30%);width:380px;min-width:380px;}@media (min-width: ",(e=>e.theme.breakpoints.xlarge),"){transform:translateX(-30%);width:420px;min-width:420px;}"),N=(0,r.Z)(l.ZP,{target:"eb17yy30"})({name:"vpj881",styles:"grid-template-columns:repeat(auto-fit, minmax(130px, max-content))"});function O(e){let{location:t}=e;const n=(0,X.Z)(),{selection:r}=(0,q.Z)(),_=(0,S.ro)(t.query.cursor),T=(0,S.ro)(t.query.query,""),D=(0,B.kq)((0,S.ro)(t.query.sort),U,{key:"p99()",order:"desc"}),M=(0,F.J)({query:"",selection:r}),{projects:N}=(0,C.Z)(),O=(0,B.GP)({cursor:_,fields:U,query:T,sort:D,referrer:"api.profiling.landing-table"}),Q="error"===O.status?(0,B.Z)(O.error):null;(0,i.useEffect)((()=>{(0,z.Z)("profiling_views.landing",{organization:n})}),[n]);const R=(0,i.useCallback)((e=>{s.browserHistory.push({...t,query:{...t.query,cursor:void 0,query:e||void 0}})}),[t]),I=(0,i.useCallback)((()=>{(0,z.Z)("profiling_views.onboarding",{organization:n}),j.Z.activatePanel(b.z.ProfilingOnboarding)}),[n]),J=(0,i.useMemo)((()=>{if(0===r.projects.length||r.projects[0]===k.mP)return N.every((e=>!e.hasProfiles));const e=new Set(N.filter((e=>e.hasProfiles)).map((e=>e.id)));return r.projects.every((t=>!e.has(String(t))))}),[r.projects,N]);return(0,L.tZ)(y.Z,{title:(0,P.t)("Profiling"),orgSlug:n.slug,children:(0,L.tZ)(g.Z,{children:(0,L.tZ)(d.T3,{children:(0,L.BX)(u.Z,{organization:n,children:[(0,L.BX)(d.h4,{children:[(0,L.tZ)(d.oB,{children:(0,L.BX)(d.Dx,{children:[(0,P.t)("Profiling"),(0,L.tZ)(h.u,{docsUrl:"https://docs.sentry.io/product/profiling/",title:(0,P.t)("A view of how your application performs in a variety of environments, based off of the performance profiles collected from real user devices in production.")})]})}),(0,L.tZ)(d.kP,{children:(0,L.BX)(l.ZP,{gap:1,children:[(0,L.tZ)(a.zx,{size:"sm",onClick:I,children:(0,P.t)("Set Up Profiling")}),(0,L.tZ)(a.zx,{size:"sm",priority:"primary",href:"https://discord.gg/zrMjKA4Vnz",external:!0,onClick:()=>{(0,z.Z)("profiling_views.visit_discord_channel",{organization:n})},children:(0,P.t)("Join Discord")})]})})]}),(0,L.tZ)(d.uT,{children:(0,L.BX)(d.or,{fullWidth:!0,children:[Q&&(0,L.tZ)(o.bZ,{type:"error",showIcon:!0,children:Q}),(0,L.BX)(H,{children:[(0,L.BX)(m.Z,{condensed:!0,children:[(0,L.tZ)(Z.Z,{}),(0,L.tZ)(c.Z,{}),(0,L.tZ)(p.Z,{alignDropdown:"left"})]}),(0,L.tZ)(v.Z,{organization:n,hasRecentSearches:!0,searchSource:"profile_landing",supportedTags:M,query:T,onSearch:R,maxQueryLength:w.dI})]}),J?(0,L.BX)(A,{children:[(0,L.tZ)(a.zx,{onClick:I,priority:"primary",children:(0,P.t)("Set Up Profiling")}),(0,L.tZ)(a.zx,{href:"https://docs.sentry.io/product/profiling/",external:!0,children:(0,P.t)("Read Docs")})]}):(0,L.BX)(i.Fragment,{children:[(0,L.tZ)(E.A,{query:T,selection:r}),(0,L.tZ)(f.Q,{columns:U.slice(),data:"success"===O.status?O.data[0]:null,error:"error"===O.status?(0,P.t)("Unable to load profiles"):null,isLoading:"loading"===O.status,sort:D,sortableColumns:new Set(U)}),(0,L.tZ)(x.Z,{pageLinks:"success"===O.status?O.data?.[2]?.getResponseHeader("Link")??null:null})]})]})})]})})})})}O.displayName="ProfilingContent";const U=["transaction","project.id","last_seen()","p75()","p95()","p99()","count()"],H=(0,r.Z)("div",{target:"emzmz060"})("display:grid;gap:",(0,_.Z)(2),";grid-template-columns:min-content auto;margin-bottom:",(0,_.Z)(2),";"),Q=O},"./images/spot/performance-empty-state.svg":(e,t,n)=>{e.exports=n.p+"assets/performance-empty-state.8da0e336a4e99ef87edb.svg"}}]);
//# sourceMappingURL=../sourcemaps/app_utils_discover_charts_tsx-app_views_profiling_content_tsx.4404911c10b169cae219b2d777c85588.js.map