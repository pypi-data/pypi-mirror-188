"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["node_modules_dnd-kit_accessibility_dist_accessibility_esm_js-app_utils_discover_charts_tsx-ap-a6064a","vendors-node_modules_dnd-kit_accessibility_dist_accessibility_esm_js-node_modules_react-grid--85d690"],{"../node_modules/@dnd-kit/accessibility/dist/accessibility.esm.js":(t,e,n)=>{n.d(e,{LE:()=>s,Mv:()=>i,qg:()=>c});var r=n("../node_modules/react/index.js");const o={display:"none"};function i({id:t,value:e}){return r.createElement("div",{id:t,style:o},e)}const a={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};function s({id:t,announcement:e}){return r.createElement("div",{id:t,style:a,role:"status","aria-live":"assertive","aria-atomic":!0},e)}function c(){const[t,e]=(0,r.useState)("");return{announce:(0,r.useCallback)((t=>{null!=t&&e(t)}),[]),announcement:t}}},"./app/utils/discover/charts.tsx":(t,e,n)=>{n.d(e,{CX:()=>a,Xp:()=>d,gu:()=>c,x1:()=>u});var r=n("./app/locale.tsx"),o=n("./app/utils.tsx"),i=n("./app/utils/formatters.tsx");function a(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"number";return(0,o.ri)(t)?s(t,e):"—"}function s(t,e){if(!(0,o.ri)(t))return"—";switch(e){case"integer":case"number":return t.toLocaleString();case"percentage":return(0,i.rl)(t,2);case"duration":return(0,i.g9)(t/1e3,2,!0);case"size":return(0,o.F)(t);default:return t.toString()}}function c(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0;return u(t,e,n,r)}function u(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0;switch(e){case"integer":case"number":return n?(0,i.Du)(t):t.toLocaleString();case"percentage":return(0,i.rl)(t,0);case"duration":return l(t,r);case"size":return(0,o.F)(t,0);default:return t.toString()}}function l(t,e){if(e??=m(t),0===t)return"0";switch(e){case i.ps:{const e=(t/i.ps).toFixed(0);return(0,r.t)("%swk",e)}case i.x4:{const e=(t/i.x4).toFixed(0);return(0,r.t)("%sd",e)}case i.kr:{const e=(t/i.kr).toFixed(0);return(0,r.t)("%shr",e)}case i.EB:{const e=(t/i.EB).toFixed(0);return(0,r.t)("%smin",e)}case i.sh:{const e=(t/i.sh).toFixed(0);return(0,r.t)("%ss",e)}default:const e=t.toFixed(0);return(0,r.t)("%sms",e)}}function d(t,e){let n=0;const r=function(t,e){let n;if(t[0]?.data){let r,o=t[0];t.forEach(((n,i)=>{let{seriesName:a,data:s}=n;!1!==e?.selected?.[a]&&s.length&&(o=t[i],r??=t[i])})),r?.data&&(n={max:Math.max(...r.data.map((t=>{let{value:e}=t;return e})).filter((t=>!!t))),min:Math.min(...o.data.map((t=>{let{value:e}=t;return e})).filter((t=>!!t)))})}return n}(t,e);if(r){const t=(r.max+r.min)/2;n=m((r.max-r.min)/5),(t/n).toFixed(0).length>6&&(n=m(t))}return n}function m(t){return t>=i.ps?i.ps:t>=i.x4?i.x4:t>=i.kr?i.kr:t>=i.EB?i.EB:t>=i.sh?i.sh:1}},"./app/utils/performance/contexts/metricsCardinality.tsx":(t,e,n)=>{n.d(e,{BT:()=>b,e0:()=>j}),n("../node_modules/core-js/modules/es.array.includes.js");var r=n("../node_modules/react/index.js"),o=n("./app/utils/analytics/trackAdvancedAnalyticsEvent.tsx"),i=n("./app/utils/dates.tsx"),a=n("./app/utils/discover/eventView.tsx"),s=n("./app/utils/performance/contexts/metricsEnhancedSetting.tsx"),c=n("../node_modules/lodash/omit.js"),u=n.n(c),l=n("./app/utils/discover/genericDiscoverQuery.tsx"),d=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function m(t){let{eventView:e,location:n}=t;return u()(e.getEventsAPIPayload(n),["field","sort","per_page","query"])}function f(t){let{children:e,...n}=t;return(0,d.tZ)(l.ZP,{route:"metrics-compatibility-sums",getRequestPayload:m,...n,children:t=>{let{tableData:n,...r}=t;return e({tableData:n,...r})}})}function p(t){let{eventView:e,location:n}=t;return u()(e.getEventsAPIPayload(n),["field","sort","per_page","query"])}function y(t){let{children:e,...n}=t;return(0,d.tZ)(l.ZP,{route:"metrics-compatibility",getRequestPayload:p,...n,children:t=>{let{tableData:n,...r}=t;return e({tableData:n,...r})}})}f.displayName="MetricsCompatibilityQuery",y.displayName="MetricsCompatibilitySumsQuery";var h=n("./app/utils/performance/contexts/utils.tsx");const[v,x,g]=(0,h.n)({name:"MetricsCardinalityContext",strict:!1}),b=t=>{if(!(0,s.gp)(t.organization))return(0,d.tZ)(v,{value:{isLoading:!1,outcome:{forceTransactionsOnly:!0}},children:t.children});const e={location:t.location,orgSlug:t.organization.slug,cursor:"0:0:0"},n=a.ZP.fromLocation(t.location);n.fields=[{field:"tpm()"}];const o=function(t){const e=t.clone();return e.start||e.end||(e.statsPeriod?(0,i.YJ)(e.statsPeriod)>1&&(e.statsPeriod="1h",e.start=void 0,e.end=void 0):(e.statsPeriod="1h",e.start=void 0,e.end=void 0)),e}(n);return(0,d.tZ)(r.Fragment,{children:(0,d.tZ)(f,{eventView:o,...e,children:n=>(0,d.tZ)(y,{eventView:o,...e,children:e=>{const r=n.isLoading||e.isLoading,o=n.isLoading||e.isLoading?void 0:function(t,e,n){const r={forceTransactionsOnly:!0},o=n.features.includes("performance-mep-bannerless-ui");if(!t)return r;const i=t.compatible_projects;return e?r:t?function(t){return!_(t).metricsCount}(t)?r:function(t,e){const n=_(t);return e?n.nullCount/n.metricsCount>.01:n.nullCount>0}(t,o)?{shouldWarnIncompatibleSDK:!0,forceTransactionsOnly:!0,compatibleProjects:i}:function(t){const e=_(t);return e.unparamCount>=e.metricsCount}(t)?{shouldNotifyUnnamedTransactions:!0,forceTransactionsOnly:!0,compatibleProjects:i}:function(t,e){const n=_(t);return e?n.unparamCount/n.metricsCount>.01:n.unparamCount>0}(t,o)?{shouldNotifyUnnamedTransactions:!0,compatibleProjects:i,forceTransactionsOnly:!1}:{forceTransactionsOnly:!1}:r}(n.tableData&&e.tableData?{...n.tableData,...e.tableData}:null,!!n.error&&!!e.error,t.organization);return(0,d.tZ)(w,{sendOutcomeAnalytics:t.sendOutcomeAnalytics,organization:t.organization,value:{isLoading:r,outcome:o},children:t.children})}})})})};b.displayName="MetricsCardinalityProvider";const w=t=>{const e=t.value.outcome?.shouldWarnIncompatibleSDK??!1,n=t.value.outcome?.shouldNotifyUnnamedTransactions??!1,i=!t.value.outcome?.forceTransactionsOnly;return(0,r.useEffect)((()=>{!t.value.isLoading&&t.sendOutcomeAnalytics&&(0,o.Z)("performance_views.mep.metrics_outcome",{organization:t.organization,is_on_metrics:i,fallback_from_null:e,fallback_from_unparam:n})}),[t.organization,t.value.isLoading,i,n,e,t.sendOutcomeAnalytics]),(0,d.tZ)(v,{...t,children:t.children})};w.displayName="Provider",g.Consumer;const j=x;function _(t){let{sum:e}=t;try{const t=Number(e.metrics);return{metricsCount:t,unparamCount:Number(e.metrics_unparam),nullCount:Number(e.metrics_null)}}catch(t){return{metricsCount:0,unparamCount:0,nullCount:0}}}},"./app/utils/performance/contexts/metricsEnhancedSetting.tsx":(t,e,n)=>{n.d(e,{Ar:()=>y,Eg:()=>g,gp:()=>v,kP:()=>x,nP:()=>m,nl:()=>f,oR:()=>p,tm:()=>h}),n("../node_modules/core-js/modules/es.array.includes.js");var r=n("../node_modules/react/index.js"),o=n("../node_modules/react-router/es/index.js"),i=(n("./app/utils/localStorage.tsx"),n("./app/utils/queryString.tsx")),a=n("./app/utils/useOrganization.tsx"),s=n("./app/utils/performance/contexts/utils.tsx"),c=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const[u,l,d]=(0,s.n)({name:"MetricsEnhancedSettingContext"}),m=d.Consumer;let f,p;!function(t){t.unset="unset",t.metrics="metrics",t.transactions="transactions"}(f||(f={})),function(t){t.auto="auto",t.metricsOnly="metricsOnly",t.transactionsOnly="transactionsOnly"}(p||(p={}));const y="metricSetting",h="metricSearchSetting";function v(t){const e=function(t){return t.features.includes("performance-use-metrics")}(t),n=t.features.includes("performance-transaction-name-only-search"),r=t.features.includes("dynamic-sampling")&&t.features.includes("mep-rollout-flag");return e||n||r}const x=t=>{let{children:e,location:n,_hasMEPState:s,forceTransactions:l}=t;const d=v((0,a.Z)()),m=[p.metricsOnly,p.transactionsOnly],h=n?(0,i.ro)(n.query[y]):p.metricsOnly;let x=p.metricsOnly;l&&(x=p.transactionsOnly);const g=m.find((t=>t===h))??x,b=void 0!==s,[w,j]=(0,r.useReducer)(((t,e)=>e),g),_=(0,r.useCallback)((t=>{n&&(o.browserHistory.replace({...n,query:{...n.query,[y]:t}}),j(t))}),[n,j]),[P,O]=(0,r.useReducer)(((t,e)=>e),f.unset),C=b?s:w,S=d&&C===p.auto,E=d&&C===p.metricsOnly,L=d&&C===p.transactionsOnly,Z=`${C}`;return(0,c.tZ)(u,{value:{autoSampleState:P,metricSettingState:C,shouldQueryProvideMEPAutoParams:S,shouldQueryProvideMEPMetricParams:E,shouldQueryProvideMEPTransactionParams:L,memoizationKey:Z,setMetricSettingState:_,setAutoSampleState:O},children:e})};x.displayName="MEPSettingProvider";const g=l},"./app/utils/useRouteContext.tsx":(t,e,n)=>{n.d(e,{s:()=>i}),n("../node_modules/core-js/modules/es.error.cause.js");var r=n("../node_modules/react/index.js"),o=n("./app/views/routeContext.tsx");function i(){const t=(0,r.useContext)(o.X);if(null===t)throw new Error("useRouteContext called outside of routes provider");return t}},"./app/utils/withProject.tsx":(t,e,n)=>{n.d(e,{Z:()=>c});var r=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=n("../node_modules/react/index.js"),i=n("./app/sentryTypes.tsx"),a=n("./app/utils/getDisplayName.tsx"),s=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const c=t=>{var e;return e=class extends o.Component{render(){const{project:e,...n}=this.props;return(0,s.tZ)(t,{project:e??this.context.project,...n})}},(0,r.Z)(e,"displayName",`withProject(${(0,a.Z)(t)})`),(0,r.Z)(e,"contextTypes",{project:i.Z.Project}),e}},"./app/views/performance/landing/metricsDataSwitcher.tsx":(t,e,n)=>{n.d(e,{d:()=>d});var r=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=(n("../node_modules/core-js/modules/es.array.push.js"),n("../node_modules/react/index.js")),i=n("../node_modules/react-router/es/index.js"),a=n("./app/components/loadingIndicator.tsx"),s=n("./app/utils/performance/contexts/metricsCardinality.tsx"),c=n("./app/utils/performance/contexts/metricsEnhancedSetting.tsx"),u=n("./app/utils/queryString.tsx"),l=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function d(t){const e=(0,c.gp)(t.organization),n=(0,s.e0)();return e?n.isLoading&&!t.hideLoadingIndicator?(0,l.tZ)(o.Fragment,{children:(0,l.tZ)(f,{children:(0,l.tZ)(a.Z,{})})}):n.outcome?(0,l.tZ)(o.Fragment,{children:(0,l.tZ)(m,{eventView:t.eventView,location:t.location,outcome:n.outcome,switcherChildren:t.children})}):(0,l.tZ)(o.Fragment,{children:t.children({forceTransactionsOnly:!0})}):(0,l.tZ)(o.Fragment,{children:t.children({forceTransactionsOnly:!0})})}function m(t){let{switcherChildren:e,outcome:n,location:r,eventView:a}=t;const{query:s}=r,d=(0,u.ro)(s[c.tm],""),m=(0,u.ro)(s.query,""),f=d===c.oR.transactionsOnly,p=m&&f&&!n.forceTransactionsOnly;return(0,o.useEffect)((()=>{p&&i.browserHistory.push({pathname:r.pathname,query:{...r.query,cursor:void 0,query:void 0,[c.tm]:void 0}})}),[p,r]),m&&f&&!n.forceTransactionsOnly&&(a.query=""),(0,l.tZ)(o.Fragment,{children:e(n)})}d.displayName="MetricsDataSwitcher",m.displayName="MetricsSwitchHandler";const f=(0,r.Z)("div",{target:"e11vcqhu0"})({name:"zl1inp",styles:"display:flex;justify-content:center"})},"../node_modules/react-grid-layout/build/utils.js":(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.bottom=u,e.childrenEqual=function(t,e){return(0,r.default)(o.default.Children.map(t,(function(t){return null==t?void 0:t.key})),o.default.Children.map(e,(function(t){return null==t?void 0:t.key})))},e.cloneLayout=l,e.cloneLayoutItem=m,e.collides=p,e.compact=y,e.compactItem=x,e.compactType=function(t){var e=t||{},n=e.verticalCompact,r=e.compactType;return!1===n?null:r},e.correctBounds=g,e.fastPositionEqual=function(t,e){return t.left===e.left&&t.top===e.top&&t.width===e.width&&t.height===e.height},e.fastRGLPropsEqual=void 0,e.getAllCollisions=j,e.getFirstCollision=w,e.getLayoutItem=b,e.getStatics=_,e.modifyLayout=d,e.moveElement=P,e.moveElementAwayFromCollision=O,e.noop=void 0,e.perc=function(t){return 100*t+"%"},e.setTopLeft=function(t){var e=t.top,n=t.left,r=t.width,o=t.height;return{top:"".concat(e,"px"),left:"".concat(n,"px"),width:"".concat(r,"px"),height:"".concat(o,"px"),position:"absolute"}},e.setTransform=function(t){var e=t.top,n=t.left,r=t.width,o=t.height,i="translate(".concat(n,"px,").concat(e,"px)");return{transform:i,WebkitTransform:i,MozTransform:i,msTransform:i,OTransform:i,width:"".concat(r,"px"),height:"".concat(o,"px"),position:"absolute"}},e.sortLayoutItems=C,e.sortLayoutItemsByColRow=E,e.sortLayoutItemsByRowCol=S,e.synchronizeLayoutWithChildren=function(t,e,n,r,i){t=t||[];var a=[];o.default.Children.forEach(e,(function(e){if(null!=(null==e?void 0:e.key)){var n=b(t,String(e.key));if(n)a.push(m(n));else{var r=e.props["data-grid"]||e.props._grid;r?a.push(m(s(s({},r),{},{i:e.key}))):a.push(m({w:1,h:1,x:0,y:u(a),i:String(e.key)}))}}}));var c=g(a,{cols:n});return i?c:y(c,r,n)},e.validateLayout=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Layout",n=["x","y","w","h"];if(!Array.isArray(t))throw new Error(e+" must be an array!");for(var r=0,o=t.length;r<o;r++)for(var i=t[r],a=0;a<n.length;a++)if("number"!=typeof i[n[a]])throw new Error("ReactGridLayout: "+e+"["+r+"]."+n[a]+" must be a number!")},e.withLayoutItem=function(t,e,n){var r=b(t,e);return r?[t=d(t,r=n(m(r))),r]:[t,null]};var r=i(n("../node_modules/lodash.isequal/index.js")),o=i(n("../node_modules/react/index.js"));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t){for(var e,n=0,r=0,o=t.length;r<o;r++)(e=t[r].y+t[r].h)>n&&(n=e);return n}function l(t){for(var e=Array(t.length),n=0,r=t.length;n<r;n++)e[n]=m(t[n]);return e}function d(t,e){for(var n=Array(t.length),r=0,o=t.length;r<o;r++)e.i===t[r].i?n[r]=e:n[r]=t[r];return n}function m(t){return{w:t.w,h:t.h,x:t.x,y:t.y,i:t.i,minW:t.minW,maxW:t.maxW,minH:t.minH,maxH:t.maxH,moved:Boolean(t.moved),static:Boolean(t.static),isDraggable:t.isDraggable,isResizable:t.isResizable,resizeHandles:t.resizeHandles,isBounded:t.isBounded}}var f=n("../node_modules/react-grid-layout/build/fastRGLPropsEqual.js");function p(t,e){return!(t.i===e.i||t.x+t.w<=e.x||t.x>=e.x+e.w||t.y+t.h<=e.y||t.y>=e.y+e.h)}function y(t,e,n){for(var r=_(t),o=C(t,e),i=Array(t.length),a=0,s=o.length;a<s;a++){var c=m(o[a]);c.static||(c=x(r,c,e,n,o),r.push(c)),i[t.indexOf(o[a])]=c,c.moved=!1}return i}e.fastRGLPropsEqual=f;var h={x:"w",y:"h"};function v(t,e,n,r){var o=h[r];e[r]+=1;for(var i=t.map((function(t){return t.i})).indexOf(e.i)+1;i<t.length;i++){var a=t[i];if(!a.static){if(a.y>e.y+e.h)break;p(e,a)&&v(t,a,n+e[o],r)}}e[r]=n}function x(t,e,n,r,o){var i,a="horizontal"===n;if("vertical"===n)for(e.y=Math.min(u(t),e.y);e.y>0&&!w(t,e);)e.y--;else if(a)for(;e.x>0&&!w(t,e);)e.x--;for(;i=w(t,e);)a?v(o,e,i.x+i.w,"x"):v(o,e,i.y+i.h,"y"),a&&e.x+e.w>r&&(e.x=r-e.w,e.y++);return e.y=Math.max(e.y,0),e.x=Math.max(e.x,0),e}function g(t,e){for(var n=_(t),r=0,o=t.length;r<o;r++){var i=t[r];if(i.x+i.w>e.cols&&(i.x=e.cols-i.w),i.x<0&&(i.x=0,i.w=e.cols),i.static)for(;w(n,i);)i.y++;else n.push(i)}return t}function b(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n].i===e)return t[n]}function w(t,e){for(var n=0,r=t.length;n<r;n++)if(p(t[n],e))return t[n]}function j(t,e){return t.filter((function(t){return p(t,e)}))}function _(t){return t.filter((function(t){return t.static}))}function P(t,e,n,r,o,i,a,s,c){if(e.static&&!0!==e.isDraggable)return t;if(e.y===r&&e.x===n)return t;"Moving element ".concat(e.i," to [").concat(String(n),",").concat(String(r),"] from [").concat(e.x,",").concat(e.y,"]");var u=e.x,d=e.y;"number"==typeof n&&(e.x=n),"number"==typeof r&&(e.y=r),e.moved=!0;var m=C(t,a);("vertical"===a&&"number"==typeof r?d>=r:"horizontal"===a&&"number"==typeof n&&u>=n)&&(m=m.reverse());var f=j(m,e),p=f.length>0;if(p&&c)return l(t);if(p&&i)return"Collision prevented on ".concat(e.i,", reverting."),e.x=u,e.y=d,e.moved=!1,t;for(var y=0,h=f.length;y<h;y++){var v=f[y];"Resolving collision between ".concat(e.i," at [").concat(e.x,",").concat(e.y,"] and ").concat(v.i," at [").concat(v.x,",").concat(v.y,"]"),v.moved||(t=v.static?O(t,v,e,o,a,s):O(t,e,v,o,a,s))}return t}function O(t,e,n,r,o,i){var a="horizontal"===o,s="horizontal"!==o,c=e.static;if(r){r=!1;var u={x:a?Math.max(e.x-n.w,0):n.x,y:s?Math.max(e.y-n.h,0):n.y,w:n.w,h:n.h,i:"-1"};if(!w(t,u))return"Doing reverse collision on ".concat(n.i," up to [").concat(u.x,",").concat(u.y,"]."),P(t,n,a?u.x:void 0,s?u.y:void 0,r,c,o,i)}return P(t,n,a?n.x+1:void 0,s?n.y+1:void 0,r,c,o,i)}function C(t,e){return"horizontal"===e?E(t):"vertical"===e?S(t):t}function S(t){return t.slice(0).sort((function(t,e){return t.y>e.y||t.y===e.y&&t.x>e.x?1:t.y===e.y&&t.x===e.x?0:-1}))}function E(t){return t.slice(0).sort((function(t,e){return t.x>e.x||t.x===e.x&&t.y>e.y?1:-1}))}e.noop=function(){}}}]);
//# sourceMappingURL=../sourcemaps/node_modules_dnd-kit_accessibility_dist_accessibility_esm_js-app_utils_discover_charts_tsx-ap-a6064a.3689134664012317cd21beec48d360dd.js.map