"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_group_tagFacets_tagFacetsDistributionMeter_tsx"],{"./app/components/group/tagFacets/tagFacetsDistributionMeter.tsx":(e,t,o)=>{o.d(t,{Z:()=>b});var a=o("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),l=(o("../node_modules/core-js/modules/es.array.push.js"),o("../node_modules/react/index.js")),i=o("../node_modules/@emotion/is-prop-valid/dist/is-prop-valid.browser.esm.js"),r=o("../node_modules/lodash/debounce.js"),n=o.n(r),s=o("./app/components/links/link.tsx"),c=o("./app/icons/iconChevron.tsx"),d=o("./app/locale.tsx"),g=o("./app/styles/space.tsx"),m=o("./app/utils.tsx"),u=o("./app/utils/analytics/trackAdvancedAnalyticsEvent.tsx"),h=o("./app/utils/platform.tsx"),p=o("./app/utils/useOrganization.tsx"),Z=o("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const x=["#3A3387","#5F40A3","#8C4FBD","#B961D3","#FEEBF9"],f=n()((e=>{let{tag:t,value:o,platform:a,is_mobile:l,organization:i}=e;(0,u.Z)("issue_group_details.tags.bar.hovered",{tag:t,value:o,platform:a,is_mobile:l,organization:i})}),300);function v(e){let{colors:t=x,segments:o,title:a,totalValues:i,onTagClick:r,project:c,expandByDefault:g}=e;const v=(0,p.Z)(),b=o.length>1,[E,T]=(0,l.useState)(b&&!!g),[X,L]=(0,l.useState)(null),N=n()((e=>L(e)),70),Q=o.slice(0,4),q=Q.reduce(((e,t)=>e+t.count),0);return q<i&&Q.push({isOther:!0,name:(0,d.t)("Other"),value:"other",count:i-q,url:""}),(0,Z.BX)(y,{children:[(0,Z.BX)(w,{clickable:b,onClick:()=>b&&T(!E),children:[!Array.isArray(o)||o.length<=0?(0,Z.tZ)(_,{children:(0,Z.tZ)(z,{children:a})}):(0,Z.BX)(_,{children:[(0,Z.tZ)(z,{children:a}),(0,Z.tZ)(S,{children:Q[0].name||(0,d.t)("n/a")}),b&&(0,Z.tZ)($,{direction:E?"up":"down",size:"xs","aria-label":`expand-${a}`})]}),0===i?(0,Z.tZ)(k,{children:(0,Z.tZ)("p",{children:(0,d.t)("No recent data.")})}):(0,Z.tZ)(k,{children:Q.map(((e,o)=>{const l=(0,m.aQ)(e.count,i),n=Math.floor(l),s={index:o,onClick:()=>((0,u.Z)("issue_group_details.tags.bar.clicked",{tag:a,value:e.value,platform:c?.platform,is_mobile:(0,h.an)(c?.platform),organization:v}),r?.(a,e))};return(0,Z.tZ)("div",{style:{width:l+"%"},onMouseOver:()=>{N(e),f({tag:a,value:e.value,platform:c?.platform,is_mobile:(0,h.an)(c?.platform),organization:v})},onMouseLeave:()=>N(null),children:e.isOther?(0,Z.tZ)(j,{"aria-label":(0,d.t)("Other"),color:t[t.length-1]}):(0,Z.tZ)(F,{color:t[o],...s,children:0===o&&n>6?`${n}%`:null})},e.value)}))})]}),E&&(0,Z.tZ)(M,{children:Q.map(((e,o)=>{const l=Math.floor((0,m.aQ)(e.count,i)),r=!!X&&X.value!==e.value,n=X?.value===e.value;return(0,Z.tZ)(s.Z,{to:e.url,"aria-label":(0,d.t)("Add the %s %s segment tag to the search query",a,e.value),children:(0,Z.BX)(B,{onMouseOver:()=>N(e),onMouseLeave:()=>N(null),children:[(0,Z.tZ)(C,{color:t[o],focus:n}),(0,Z.tZ)(A,{unfocus:r,children:e.name??(0,Z.tZ)(D,{children:(0,d.t)("n/a")})}),(0,Z.tZ)(O,{children:`${l}%`})]})},`segment-${e.name}-${o}`)}))})]})}v.displayName="TagFacetsDistributionMeter";const b=v,y=(0,a.Z)("div",{target:"e1g8texm14"})("margin-bottom:",(0,g.Z)(2),";"),w=(0,a.Z)("span",{target:"e1g8texm13"})((e=>e.clickable?"cursor: pointer":null),";"),k=(0,a.Z)("div",{target:"e1g8texm12"})("display:flex;overflow:hidden;border-radius:",(0,g.Z)(.75),";"),_=(0,a.Z)("div",{target:"e1g8texm11"})("display:flex;font-size:",(e=>e.theme.fontSizeSmall),";justify-content:space-between;margin-bottom:",(0,g.Z)(.25),";line-height:1.1;"),z=(0,a.Z)("div",{target:"e1g8texm10"})("flex:none;color:",(e=>e.theme.textColor),";font-weight:bold;font-size:",(e=>e.theme.fontSizeSmall),";margin-right:",(0,g.Z)(1),";"),S=(0,a.Z)("div",{target:"e1g8texm9"})((e=>e.theme.overflowEllipsis),";display:flex;color:",(e=>e.theme.gray300),";text-align:right;font-size:",(e=>e.theme.fontSizeSmall),";",(e=>e.theme.overflowEllipsis),";"),j=(0,a.Z)("span",{target:"e1g8texm8"})("display:block;width:100%;height:",(0,g.Z)(2),";color:inherit;outline:none;background-color:",(e=>e.color),";"),F=(0,a.Z)("span",{shouldForwardProp:i.Z,target:"e1g8texm7"})("&:hover{color:",(e=>e.theme.white),";}display:block;width:100%;height:",(0,g.Z)(2),";color:",(e=>e.theme.white),";outline:none;background-color:",(e=>e.color),";border-radius:0;text-align:right;font-size:",(e=>e.theme.fontSizeExtraSmall),";padding:1px ",(0,g.Z)(.5)," 0 0;"),M=(0,a.Z)("div",{target:"e1g8texm6"})("margin:",(0,g.Z)(1)," 0;"),B=(0,a.Z)("div",{target:"e1g8texm5"})("display:flex;align-items:center;cursor:pointer;padding:",(0,g.Z)(.5)," 0;"),C=(0,a.Z)("span",{target:"e1g8texm4"})("padding:0;position:relative;width:11px;height:11px;text-indent:-9999em;display:inline-block;border-radius:50%;flex-shrink:0;background-color:",(e=>e.color),";transition:outline 0.3s;",(e=>e.focus?`outline: ${e.theme.gray100} ${(0,g.Z)(.5)} solid`:null),";"),A=(0,a.Z)("span",{target:"e1g8texm3"})("font-size:",(e=>e.theme.fontSizeSmall),";margin-left:",(0,g.Z)(1),";overflow:hidden;white-space:nowrap;text-overflow:ellipsis;transition:color 0.3s;color:",(e=>e.unfocus?e.theme.gray300:e.theme.gray400),";"),O=(0,a.Z)("span",{target:"e1g8texm2"})("font-size:",(e=>e.theme.fontSizeSmall),";margin-left:",(0,g.Z)(1),";color:",(e=>e.theme.gray300),";text-align:right;flex-grow:1;"),$=(0,a.Z)(c.g,{target:"e1g8texm1"})("margin:-",(0,g.Z)(.5)," 0 0 ",(0,g.Z)(.5),";color:",(e=>e.theme.gray300),";min-width:",(0,g.Z)(1.5),";margin-top:0;"),D=(0,a.Z)("span",{target:"e1g8texm0"})("color:",(e=>e.theme.gray300),";")}}]);
//# sourceMappingURL=../sourcemaps/app_components_group_tagFacets_tagFacetsDistributionMeter_tsx.e0df50ccc3212fecd8808c8f9f3cc0e2.js.map