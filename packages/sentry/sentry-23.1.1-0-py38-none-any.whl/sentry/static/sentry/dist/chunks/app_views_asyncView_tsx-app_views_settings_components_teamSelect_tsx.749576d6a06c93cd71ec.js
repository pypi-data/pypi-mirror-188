"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_asyncView_tsx-app_views_settings_components_teamSelect_tsx"],{"./app/views/asyncView.tsx":(e,t,s)=>{s.d(t,{Z:()=>a});var n=s("./app/components/asyncComponent.tsx"),o=s("./app/components/sentryDocumentTitle.tsx"),i=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class a extends n.Z{getTitle(){return""}render(){return(0,i.tZ)(o.Z,{title:this.getTitle(),children:this.renderComponent()})}}a.displayName="AsyncView"},"./app/views/settings/components/teamSelect.tsx":(e,t,s)=>{s.d(t,{Z:()=>S});var n=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=(s("../node_modules/core-js/modules/es.regexp.flags.js"),s("../node_modules/lodash/debounce.js")),i=s.n(o),a=s("./app/components/button.tsx"),d=s("./app/components/confirm.tsx"),r=s("./app/components/dropdownAutoComplete/index.tsx"),l=s("./app/components/dropdownButton.tsx"),m=s("./app/components/emptyMessage.tsx"),p=s("./app/components/idBadge/teamBadge/index.tsx"),c=s("./app/components/links/link.tsx"),g=s("./app/components/loadingIndicator.tsx"),u=s("./app/components/panels/index.tsx"),x=s("./app/components/tooltip.tsx"),h=s("./app/constants/index.tsx"),Z=s("./app/icons/index.tsx"),f=s("./app/locale.tsx"),v=s("./app/styles/space.tsx"),b=s("./app/utils/useTeams.tsx"),y=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function w(e){let{disabled:t,enforceIdpProvisioned:s,selectedTeams:n,menuHeader:o,organization:a,onAddTeam:d,onRemoveTeam:p,confirmLastTeamRemoveMessage:c,loadingTeams:Z}=e;const{teams:v,onSearch:w,fetching:j}=(0,b.Z)(),M=v.filter((e=>!n.some((t=>t.slug===e.slug)))).map(((e,t)=>({index:t,value:e.slug,searchKey:e.slug,label:()=>s&&e.flags["idp:provisioned"]?(0,y.tZ)(x.u,{title:(0,f.t)("Membership to this team is managed through your organization's identity provider."),children:(0,y.tZ)(z,{avatarSize:18,team:e})}):(0,y.tZ)(_,{avatarSize:18,team:e}),disabled:s&&e.flags["idp:provisioned"]})));return(0,y.BX)(u.s_,{children:[(0,y.BX)(u.V9,{hasButtons:!0,children:[(0,f.t)("Team"),(0,y.tZ)(r.Z,{items:M,busyItemsStillVisible:j,onChange:i()((e=>w(e.target.value)),h.Dk),onSelect:e=>{const t=v.find((t=>t.slug===e.value));t&&d(t)},emptyMessage:(0,f.t)("No teams"),menuHeader:o,disabled:t,alignMenu:"right",children:e=>{let{isOpen:s}=e;return(0,y.tZ)(l.Z,{"aria-label":(0,f.t)("Add Team"),isOpen:s,size:"xs",disabled:t,children:(0,f.t)("Add Team")})}})]}),(0,y.tZ)(u.N,{children:Z?(0,y.tZ)(g.Z,{}):(()=>{if(0===n.length)return(0,y.tZ)(m.Z,{children:(0,f.t)("No Teams assigned")});const e=1===n.length&&c?c:null;return n.map((n=>(0,y.tZ)(T,{orgId:a.slug,team:n,onRemove:e=>p(e),disabled:t,confirmMessage:e,enforceIdpProvisioned:s},n.slug)))})()})]})}w.displayName="TeamSelect";const T=e=>{let{orgId:t,team:s,onRemove:n,disabled:o,confirmMessage:i,enforceIdpProvisioned:r}=e;return(0,y.BX)(j,{"data-test-id":"team-row",children:[(0,y.tZ)(M,{to:`/settings/${t}/teams/${s.slug}/`,children:(0,y.tZ)(p.a,{team:s})}),(0,y.tZ)(d.Z,{message:i,bypass:!i,onConfirm:()=>n(s.slug),disabled:o||r&&s.flags["idp:provisioned"],children:(0,y.tZ)(a.zx,{size:"xs",icon:(0,y.tZ)(Z.JZ,{isCircled:!0,size:"xs"}),disabled:o||r&&s.flags["idp:provisioned"],title:r&&s.flags["idp:provisioned"]?(0,f.t)("Membership to this team is managed through your organization's identity provider."):void 0,children:(0,f.t)("Remove")})})]})};T.displayName="TeamRow";const _=(0,n.Z)(p.a,{target:"ey5q24x3"})("font-weight:normal;font-size:",(e=>e.theme.fontSizeMedium),";text-transform:none;"),z=(0,n.Z)(p.a,{target:"ey5q24x2"})("font-weight:normal;font-size:",(e=>e.theme.fontSizeMedium),";text-transform:none;filter:grayscale(1);"),j=(0,n.Z)(u.Lv,{target:"ey5q24x1"})("padding:",(0,v.Z)(2),";align-items:center;"),M=(0,n.Z)(c.Z,{target:"ey5q24x0"})("flex:1;margin-right:",(0,v.Z)(1),";"),S=w}}]);
//# sourceMappingURL=../sourcemaps/app_views_asyncView_tsx-app_views_settings_components_teamSelect_tsx.da9ae1b31b7f944ce29cc92caf62b54d.js.map