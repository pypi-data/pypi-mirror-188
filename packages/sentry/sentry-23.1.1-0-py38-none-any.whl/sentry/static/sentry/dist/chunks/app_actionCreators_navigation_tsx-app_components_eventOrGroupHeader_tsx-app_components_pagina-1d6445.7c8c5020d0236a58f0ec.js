"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_actionCreators_navigation_tsx-app_components_eventOrGroupHeader_tsx-app_components_pagina-1d6445"],{"./app/actionCreators/navigation.tsx":(e,t,n)=>{n.d(t,{T:()=>d}),n("../node_modules/core-js/modules/es.array.includes.js"),n("../node_modules/core-js/modules/es.array.push.js");var s=n("./app/actionCreators/modal.tsx"),o=n("./app/components/contextPickerModal.tsx"),i=n("./app/stores/projectsStore.tsx"),r=n("./app/utils/replaceRouterParams.tsx"),a=n("./app/utils/withDomainRequired.tsx"),l=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function d(e,t,n){const d=e.includes(":orgId"),c=e.includes(":projectId")||e.includes(":project"),p=t?.location?.query?.project,u=!p||Array.isArray(p),m=i.Z.getById(p);d||c&&(u||!m)||n?(0,s.openModal)((s=>(0,l.tZ)(o.Z,{...s,nextPath:e,needOrg:d,needProject:c,configUrl:n,onFinish:e=>(s.closeModal(),window.setTimeout((()=>t.push((0,a.D)(e))),0))})),{}):(m&&(e=(0,r.Z)(e,{projectId:m.slug,project:m.id})),t.push((0,a.D)(e)))}},"./app/components/contextPickerModal.tsx":(e,t,n)=>{n.d(t,{Z:()=>j});var s=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=(n("../node_modules/core-js/modules/es.array.push.js"),n("../node_modules/react/index.js")),r=n("../node_modules/react-dom/profiling.js"),a=n("../node_modules/react-select/dist/index-4bd03571.esm.js"),l=n("./app/components/asyncComponent.tsx"),d=n("./app/components/forms/controls/selectControl.tsx"),c=n("./app/components/idBadge/index.tsx"),p=n("./app/components/links/link.tsx"),u=n("./app/components/loadingIndicator.tsx"),m=n("./app/locale.tsx"),g=n("./app/stores/configStore.tsx"),h=n("./app/stores/organizationsStore.tsx"),f=n("./app/stores/organizationStore.tsx"),v=n("./app/styles/space.tsx"),y=n("./app/utils/projects.tsx"),E=n("./app/utils/replaceRouterParams.tsx"),Z=n("./app/views/organizationIntegrations/integrationIcon.tsx"),x=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const S={menu:e=>({...e,position:"initial",boxShadow:"none",marginBottom:0}),option:(e,t)=>({...e,opacity:t.isDisabled?.6:1,cursor:t.isDisabled?"not-allowed":"pointer",pointerEvents:t.isDisabled?"none":"auto"})};class b extends i.Component{constructor(){var e;super(...arguments),e=this,(0,s.Z)(this,"onFinishTimeout",void 0),(0,s.Z)(this,"orgSelect",null),(0,s.Z)(this,"projectSelect",null),(0,s.Z)(this,"configSelect",null),(0,s.Z)(this,"navigateIfFinish",(function(t,n){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.props.organization;const{needProject:o,onFinish:i,nextPath:r,integrationConfigs:a}=e.props,{isSuperuser:l}=g.Z.get("user")||{};if(!o&&1!==t.length||o&&1!==n.length||a.length&&l)return;if(window.clearTimeout(e.onFinishTimeout),!o)return void(e.onFinishTimeout=i((0,E.Z)(r,{orgId:t[0].slug}))??void 0);let d=s;d||1!==t.length||(d=t[0].slug),e.onFinishTimeout=i((0,E.Z)(r,{orgId:d,projectId:n[0].slug,project:e.props.projects.find((e=>e.slug===n[0].slug))?.id}))??void 0})),(0,s.Z)(this,"doFocus",(e=>{if(!e||this.props.loading)return;const t=(0,r.findDOMNode)(e);if(null!==t){const e=t.querySelector("input");e&&e.focus()}})),(0,s.Z)(this,"handleSelectOrganization",(e=>{let{value:t}=e;this.props.needProject?this.props.onSelectOrganization(t):this.navigateIfFinish([{slug:t}],[])})),(0,s.Z)(this,"handleSelectProject",(e=>{let{value:t}=e;const{organization:n}=this.props;t&&n&&this.navigateIfFinish([{slug:n}],[{slug:t}])})),(0,s.Z)(this,"handleSelectConfiguration",(e=>{let{value:t}=e;const{onFinish:n,nextPath:s}=this.props;t&&n(`${s}${t}/`)})),(0,s.Z)(this,"getMemberProjects",(()=>{const{projects:e}=this.props,t=[],n=[];return e.forEach((e=>e.isMember?n.push(e):t.push(e))),[n,t]})),(0,s.Z)(this,"customOptionProject",(e=>{let{label:t,...n}=e;const s=this.props.projects.find((e=>{let{slug:t}=e;return n.value===t}));return s?(0,x.tZ)(a.c.Option,{label:t,...n,children:(0,x.tZ)(N,{project:s,avatarSize:20,displayName:t,avatarProps:{consistentWidth:!0},disableLink:!0})}):null}))}componentDidMount(){const{organization:e,projects:t,organizations:n}=this.props;1===n.length&&e&&this.navigateIfFinish([{slug:e}],t)}componentDidUpdate(e){JSON.stringify(e.projects)!==JSON.stringify(this.props.projects)&&this.navigateIfFinish(this.props.organizations,this.props.projects)}componentWillUnmount(){window.clearTimeout(this.onFinishTimeout)}get headerText(){const{needOrg:e,needProject:t,integrationConfigs:n}=this.props;return e&&t?(0,m.t)("Select an organization and a project to continue"):e?(0,m.t)("Select an organization to continue"):t?(0,m.t)("Select a project to continue"):n.length?(0,m.t)("Select a configuration to continue"):""}renderProjectSelectOrMessage(){const{organization:e,projects:t}=this.props,[n,s]=this.getMemberProjects(),{isSuperuser:o}=g.Z.get("user")||{},i=[{label:(0,m.t)("My Projects"),options:n.map((e=>({value:e.slug,label:e.slug,disabled:!1})))},{label:(0,m.t)("All Projects"),options:s.map((e=>({value:e.slug,label:e.slug,disabled:!o})))}];return t.length?(0,x.tZ)(w,{ref:e=>{this.projectSelect=e,this.doFocus(this.projectSelect)},placeholder:(0,m.t)("Select a Project to continue"),name:"project",options:i,onChange:this.handleSelectProject,components:{Option:this.customOptionProject,DropdownIndicator:null},styles:S,menuIsOpen:!0}):(0,x.tZ)("div",{children:(0,m._N)("You have no projects. Click [link] to make one.",{link:(0,x.tZ)(p.Z,{to:`/organizations/${e}/projects/new/`,children:(0,m.t)("here")})})})}renderIntegrationConfigs(){const{integrationConfigs:e}=this.props,{isSuperuser:t}=g.Z.get("user")||{},n=[{label:(0,m._N)("[providerName] Configurations",{providerName:e[0].provider.name}),options:e.map((e=>({value:e.id,label:(0,x.BX)(P,{children:[(0,x.tZ)(Z.Z,{size:22,integration:e}),(0,x.tZ)("span",{children:e.domainName})]}),disabled:!t})))}];return(0,x.tZ)(w,{ref:e=>{this.configSelect=e,this.doFocus(this.configSelect)},placeholder:(0,m.t)("Select a configuration to continue"),name:"configurations",options:n,onChange:this.handleSelectConfiguration,components:{DropdownIndicator:null},styles:S,menuIsOpen:!0})}render(){const{needOrg:e,needProject:t,organization:n,organizations:s,loading:o,Header:r,Body:a,integrationConfigs:l}=this.props,{isSuperuser:d}=g.Z.get("user")||{},c=n&&t&&!o,p=l.length>0&&d,u=s.filter((e=>{let{status:t}=e;return"pending_deletion"!==t.id})).map((e=>{let{slug:t}=e;return{label:t,value:t}}));return e||t||p?(0,x.BX)(i.Fragment,{children:[(0,x.tZ)(r,{closeButton:!0,children:this.headerText}),(0,x.BX)(a,{children:[o&&(0,x.tZ)(R,{overlay:!0}),e&&(0,x.tZ)(w,{ref:e=>{this.orgSelect=e,c||this.doFocus(this.orgSelect)},placeholder:(0,m.t)("Select an Organization"),name:"organization",options:u,value:n,onChange:this.handleSelectOrganization,components:{DropdownIndicator:null},styles:S,menuIsOpen:!0}),c&&this.renderProjectSelectOrMessage(),p&&this.renderIntegrationConfigs()]})]}):null}}b.displayName="ContextPickerModal";class _ extends l.Z{constructor(){super(...arguments),(0,s.Z)(this,"unlistener",h.Z.listen((e=>this.setState({organizations:e})),void 0)),(0,s.Z)(this,"handleSelectOrganization",(e=>{this.setState({selectedOrganization:e})}))}getDefaultState(){const e=f.Z.get();return{...super.getDefaultState(),organizations:h.Z.getAll(),selectedOrganization:e.organization?.slug}}getEndpoints(){const{configUrl:e}=this.props;return e?[["integrationConfigs",e]]:[]}componentWillUnmount(){this.unlistener?.()}renderModal(e){let{projects:t,initiallyLoaded:n,integrationConfigs:s}=e;return(0,x.tZ)(b,{...this.props,projects:t||[],loading:!n,organizations:this.state.organizations,organization:this.state.selectedOrganization,onSelectOrganization:this.handleSelectOrganization,integrationConfigs:s||[]})}render(){const{projectSlugs:e,configUrl:t}=this.props;return t&&this.state.loading?(0,x.tZ)(u.Z,{}):this.state.integrationConfigs?.length?this.renderModal({integrationConfigs:this.state.integrationConfigs,initiallyLoaded:!this.state.loading}):this.state.selectedOrganization?(0,x.tZ)(y.Z,{orgId:this.state.selectedOrganization,allProjects:!e?.length,slugs:e,children:e=>{let{projects:t,initiallyLoaded:n}=e;return this.renderModal({projects:t,initiallyLoaded:n})}}):this.renderModal({})}}_.displayName="ContextPickerModalContainer";const j=_,w=(0,o.Z)(d.Z,{target:"e10w9lcp3"})("margin-top:",(0,v.Z)(1),";"),N=(0,o.Z)(c.Z,{target:"e10w9lcp2"})("margin:",(0,v.Z)(1),";"),R=(0,o.Z)(u.Z,{target:"e10w9lcp1"})({name:"1739oy8",styles:"z-index:1"}),P=(0,o.Z)("div",{target:"e10w9lcp0"})("display:grid;grid-template-columns:",(0,v.Z)(4)," auto;grid-template-rows:1fr;")},"./app/components/eventOrGroupHeader.tsx":(e,t,n)=>{n.d(t,{Z:()=>k});var s=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=n("../node_modules/react/index.js"),i=n("../node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),r=n("../node_modules/lodash/capitalize.js"),a=n.n(r),l=n("./app/components/errorBoundary.tsx"),d=n("./app/components/eventOrGroupTitle.tsx"),c=n("./app/components/globalSelectionLink.tsx"),p=n("./app/components/tooltip.tsx"),u=n("./app/icons/index.tsx"),m=n("./app/locale.tsx"),g=n("./app/styles/space.tsx"),h=n("./app/utils/events.tsx"),f=n("./app/utils/useLocation.tsx"),v=n("./app/utils/withOrganization.tsx"),y=n("./app/views/organizationGroupDetails/unhandledTag.tsx"),E=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function Z(){return(0,E.BX)(S,{children:[(0,E.tZ)(b,{children:(0,m.t)("<unknown>")}),(0,E.tZ)(_,{children:(0,m.t)("There was an error rendering the title")})]})}Z.displayName="EventTitleError";const x=Z,S=(0,s.Z)("span",{target:"e1rvqltq2"})({name:"5kov97",styles:"display:flex;flex-wrap:wrap"}),b=(0,s.Z)("span",{target:"e1rvqltq1"})("margin-right:",(0,g.Z)(.5),";"),_=(0,s.Z)("span",{target:"e1rvqltq0"})("color:",(e=>e.theme.alert.error.iconColor),";background:",(e=>e.theme.alert.error.backgroundLight),";font-size:",(e=>e.theme.fontSizeMedium),";padding:0 ",(0,g.Z)(.5),";border-radius:",(e=>e.theme.borderRadius),";display:flex;align-items:center;");function j(e){let{data:t,index:n,organization:s,query:i,onClick:r,className:d,hideIcons:g,hideLevel:v,includeLink:y=!0,size:Z="normal",grouping:S=!1,source:b}=e;const _=(0,f.T)(),j=!!s.features?.includes("grouping-tree-ui");function w(){const{level:e,status:i,isBookmarked:r,hasSeen:d}=t;return(0,E.BX)(o.Fragment,{children:[!v&&e&&(0,E.tZ)(p.u,{skipWrapper:!0,disabled:"unknown"===e,title:(0,m._N)("Error level: [level]",{level:a()(e)}),children:(0,E.tZ)(M,{level:e})}),!g&&"ignored"===i&&(0,E.tZ)(O,{children:(0,E.tZ)(u.i1,{color:"red400"})}),!g&&r&&(0,E.tZ)(O,{children:(0,E.tZ)(u.GK,{isSolid:!0,color:"yellow400"})}),(0,E.tZ)(l.Z,{customComponent:(0,E.tZ)(x,{}),mini:!0,children:(0,E.tZ)(T,{data:t,organization:s,hasSeen:!(!j||void 0!==d)||d,withStackTracePreview:!0,hasGuideAnchor:0===n,grouping:S})})]})}const N=(0,h.k$)(t),P=(0,h.FC)(t);return(0,E.BX)("div",{className:d,"data-test-id":"event-issue-header",children:[(0,E.tZ)(R,{size:Z,hasGroupingTreeUI:j,children:function(){const e=s.slug,{id:n,status:o}=t,{eventID:a,groupID:l}=t,d={"data-test-id":"resolved"===o?"resolved-issue":null,style:"resolved"===o?{textDecoration:"line-through"}:void 0};return y?(0,E.tZ)(c.Z,{...d,to:{pathname:`/organizations/${e}/issues/${a?l:n}/${a?`events/${a}/`:""}`,query:{referrer:b||"event-or-group-header",query:i,...void 0!==_.query.sort?{sort:_.query.sort}:{},...void 0!==_.query.project?{}:{_allp:1}}},onClick:r,children:w()}):(0,E.tZ)("span",{...d,children:w()})}()}),N&&(0,E.tZ)(C,{size:Z,children:N}),P&&(0,E.tZ)(I,{size:Z,children:P&&(0,E.tZ)(z,{children:P})})]})}j.displayName="EventOrGroupHeader";const w={name:"c9isw4",styles:"overflow:hidden;max-width:100%;text-overflow:ellipsis;white-space:nowrap"},N=e=>{let{size:t}=e;return"small"===t?"margin: 0;":"margin: 0 0 5px"},R=(0,s.Z)("div",{target:"e1c8ut036"})("line-height:1;margin-bottom:",(0,g.Z)(.25),";& em{font-size:",(e=>e.theme.fontSizeMedium),";font-style:normal;font-weight:300;color:",(e=>e.theme.subText),";}",(e=>e.hasGroupingTreeUI?(0,i.iv)(">a:first-child{display:inline-flex;min-height:",(0,g.Z)(3),";}",""):(0,i.iv)(w,";","")),";"),P=(0,s.Z)("div",{target:"e1c8ut035"})(w,";",N,";direction:rtl;text-align:left;font-size:",(e=>e.theme.fontSizeMedium),";color:",(e=>e.theme.subText),";span{direction:ltr;}");function C(e){const{children:t,...n}=e;return(0,E.tZ)(P,{...n,children:(0,m._N)("in [location]",{location:(0,E.tZ)("span",{children:t})})})}C.displayName="Location";const I=(0,s.Z)(y.S,{target:"e1c8ut034"})(N,";line-height:1.2;"),z=(0,s.Z)("div",{target:"e1c8ut033"})(w,";font-size:",(e=>e.theme.fontSizeMedium),";"),O=(0,s.Z)("span",{target:"e1c8ut032"})({name:"vqevil",styles:"position:relative;display:flex;margin-right:5px"}),M=(0,s.Z)("div",{target:"e1c8ut031"})("position:absolute;left:-1px;width:9px;height:15px;border-radius:0 3px 3px 0;background-color:",(e=>e.theme.level[e.level]??e.theme.level.default),";"),k=(0,v.Z)(j),T=(0,s.Z)(d.Z,{target:"e1c8ut030"})("font-weight:",(e=>e.hasSeen?400:600),";")},"./app/components/eventOrGroupTitle.tsx":(e,t,n)=>{n.d(t,{Z:()=>F});var s=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=n("../node_modules/react/index.js"),i=n("../node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),r=n("./app/utils/events.tsx"),a=n("./app/utils/withOrganization.tsx"),l=n("./app/styles/space.tsx"),d=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function c(e){let{treeLabel:t}=e;const n=t.slice(0,4),s=t.slice(n.length);return(0,d.BX)(u,{children:[(0,d.tZ)(m,{children:n.map(((e,t)=>{const s=(0,r.K2)(e);return t!==n.length-1?(0,d.BX)(o.Fragment,{children:[(0,d.tZ)(h,{children:s}),(0,d.tZ)(v,{children:"|"})]},t):(0,d.tZ)(h,{children:s},t)}))}),!!s.length&&(0,d.tZ)(f,{children:s.map(((e,t)=>{const n=(0,r.K2)(e);return(0,d.BX)(o.Fragment,{children:[(0,d.tZ)(v,{children:"|"}),(0,d.tZ)(g,{children:n})]},t)}))})]})}c.displayName="EventTitleTreeLabel";const p=c,u=(0,s.Z)("div",{target:"e1o0zbyk5"})({name:"povk8l",styles:"display:inline-grid;grid-template-columns:auto 1fr;align-items:center"}),m=(0,s.Z)("div",{target:"e1o0zbyk4"})({name:"ww2cfn",styles:"display:inline-grid;grid-auto-flow:column;align-items:center"}),g=(0,s.Z)("div",{target:"e1o0zbyk3"})({name:"1r5gb7q",styles:"display:inline-block"}),h=(0,s.Z)(g,{target:"e1o0zbyk2"})((e=>e.theme.overflowEllipsis)," display:inline-block;"),f=(0,s.Z)("div",{target:"e1o0zbyk1"})((e=>e.theme.overflowEllipsis)," display:inline-block;min-width:50px;"),v=(0,s.Z)("div",{target:"e1o0zbyk0"})("color:",(e=>e.theme.gray200),";display:inline-block;padding:0 ",(0,l.Z)(1),";");var y=n("./app/components/events/interfaces/keyValueList/index.tsx"),E=n("./app/components/groupPreviewTooltip/groupPreviewHovercard.tsx"),Z=n("./app/components/groupPreviewTooltip/utils.tsx"),x=n("./app/components/loadingIndicator.tsx"),S=n("./app/locale.tsx"),b=n("./app/utils/queryClient.tsx"),_=n("./app/utils/useOrganization.tsx");const j=e=>{let{endpointUrl:t,onRequestBegin:n,onRequestEnd:s,onUnmount:i}=e;const{data:r,isLoading:a,isError:l}=(0,b.aM)([t,{query:{referrer:"api.issues.preview-performance"}}],{staleTime:6e4});if((0,o.useEffect)((()=>(a?n():s(),i)),[a,n,s,i]),a)return(0,d.tZ)(N,{children:(0,d.tZ)(x.Z,{hideMessage:!0,size:32})});if(l)return(0,d.tZ)(N,{children:(0,S.t)("Failed to load preview")});const c=r?.occurrence?.evidenceDisplay;return c?.length?(0,d.tZ)(R,{"data-test-id":"evidence-preview-body",children:(0,d.tZ)(y.Z,{data:c.map((e=>({key:e.name,subject:e.name,value:e.value}))),shouldSort:!1})}):(0,d.tZ)(N,{children:(0,S.t)("There is no evidence available for this issue.")})};j.displayName="SpanEvidencePreviewBody";const w=e=>{let{children:t,groupId:n,eventId:s,projectSlug:i}=e;const r=(e=>{let{orgSlug:t,eventId:n,groupId:s,projectSlug:o}=e;return n&&o?`/projects/${t}/${o}/events/${n}/`:s?`/issues/${s}/events/latest/`:null})({groupId:n,eventId:s,projectSlug:i,orgSlug:(0,_.Z)().slug}),{shouldShowLoadingState:a,onRequestBegin:l,onRequestEnd:c,reset:p}=(0,Z.H)();return r?(0,d.tZ)(E.v,{hide:!a,body:(0,d.tZ)(j,{onRequestBegin:l,onRequestEnd:c,onUnmount:p,endpointUrl:r}),children:t}):(0,d.tZ)(o.Fragment,{children:t})};w.displayName="EvidencePreview";const N=(0,s.Z)("div",{target:"erjmuql1"})("color:",(e=>e.theme.subText),";padding:",(0,l.Z)(1.5),";font-size:",(e=>e.theme.fontSizeMedium),";display:flex;align-items:center;justify-content:center;min-height:56px;"),R=(0,s.Z)("div",{target:"erjmuql0"})("width:700px;padding:",(0,l.Z)(1.5)," ",(0,l.Z)(1.5)," 0 ",(0,l.Z)(1.5),";");var P=n("./app/stores/projectsStore.tsx"),C=n("./app/types/index.tsx"),I=n("./app/components/events/interfaces/performance/spanEvidenceKeyValueList.tsx");const z=e=>{let{endpointUrl:t,onRequestBegin:n,onRequestEnd:s,onUnmount:i}=e;const{data:r,isLoading:a,isError:l}=(0,b.aM)([t,{query:{referrer:"api.issues.preview-performance"}}],{staleTime:6e4});return(0,o.useEffect)((()=>(a?n():s(),i)),[a,n,s,i]),a?(0,d.tZ)(M,{children:(0,d.tZ)(x.Z,{hideMessage:!0,size:32})}):l?(0,d.tZ)(M,{children:(0,S.t)("Failed to load preview")}):r?(0,d.tZ)(k,{"data-test-id":"span-evidence-preview-body",children:(0,d.tZ)(I.V,{event:r})}):(0,d.tZ)(M,{children:(0,S.t)("There is no span evidence available for this issue.")})};z.displayName="SpanEvidencePreviewBody";const O=e=>{let{children:t,groupId:n,eventId:s,projectSlug:i}=e;const r=(e=>{let{orgSlug:t,eventId:n,groupId:s,projectSlug:o}=e;return n&&o?`/projects/${t}/${o}/events/${n}/`:s?`/issues/${s}/events/latest/`:null})({groupId:n,eventId:s,projectSlug:i,orgSlug:(0,_.Z)().slug}),{shouldShowLoadingState:a,onRequestBegin:l,onRequestEnd:c,reset:p}=(0,Z.H)();return r?(0,d.tZ)(E.v,{hide:!a,body:(0,d.tZ)(z,{onRequestBegin:l,onRequestEnd:c,onUnmount:p,endpointUrl:r}),children:t}):(0,d.tZ)(o.Fragment,{children:t})};O.displayName="SpanEvidencePreview";const M=(0,s.Z)("div",{target:"e1r0qo9w1"})("color:",(e=>e.theme.subText),";padding:",(0,l.Z)(1.5),";font-size:",(e=>e.theme.fontSizeMedium),";display:flex;align-items:center;justify-content:center;min-height:56px;"),k=(0,s.Z)("div",{target:"e1r0qo9w0"})("width:700px;padding:",(0,l.Z)(1.5)," ",(0,l.Z)(1.5)," 0 ",(0,l.Z)(1.5),";");var T=n("./app/components/groupPreviewTooltip/stackTracePreview.tsx");const A=e=>{let{children:t,eventId:n,groupId:s,groupingCurrentLevel:o,issueCategory:i,projectId:r}=e;const a=n?P.Z.getById(r)?.slug:void 0;switch(i){case C.qE.ERROR:return(0,d.tZ)(T._$,{issueId:s,groupingCurrentLevel:o,eventId:n,projectSlug:a,children:t});case C.qE.PERFORMANCE:return(0,d.tZ)(O,{groupId:s,eventId:n,projectSlug:a,children:t});default:return(0,d.tZ)(w,{groupId:s,eventId:n,projectSlug:a,children:t})}};function L(e){let{organization:t,data:n,withStackTracePreview:s,grouping:i=!1,className:a}=e;const l=n,c=n.metadata?.current_level,u=n?.issueCategory,m=!!t?.features.includes("grouping-tree-ui"),{id:g,eventID:h,groupID:f,projectID:v}=l,{title:y,subtitle:E,treeLabel:Z}=(0,r.YQ)(l,t?.features,i);return(0,d.BX)(q,{className:a,hasGroupingTreeUI:m,children:[s?(0,d.tZ)(A,{groupId:f||g,issueCategory:u,groupingCurrentLevel:c,eventId:h,projectId:v,children:Z?(0,d.tZ)(p,{treeLabel:Z}):y??""}):Z?(0,d.tZ)(p,{treeLabel:Z}):y,E&&(0,d.BX)(o.Fragment,{children:[(0,d.tZ)(D,{}),(0,d.tZ)(B,{title:E,children:E}),(0,d.tZ)("br",{})]})]})}L.displayName="EventOrGroupTitle";const F=(0,a.Z)(L),D=()=>(0,d.tZ)("span",{style:{display:"inline-block",width:10},children:"Â "});D.displayName="Spacer";const B=(0,s.Z)("em",{target:"e1v8ok1u1"})("color:",(e=>e.theme.gray300),";font-style:normal;"),q=(0,s.Z)("span",{target:"e1v8ok1u0"})("font-size:",(e=>e.theme.fontSizeLarge),";",(e=>e.hasGroupingTreeUI&&(0,i.iv)("display:inline-grid;grid-template-columns:auto max-content 1fr max-content;align-items:baseline;",B,"{",e.theme.overflowEllipsis,";display:inline-block;height:100%;}","")),";")},"./app/components/events/interfaces/performance/spanEvidenceKeyValueList.tsx":(e,t,n)=>{n.d(t,{V:()=>y});var s=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=(n("../node_modules/core-js/modules/es.array.includes.js"),n("../node_modules/core-js/modules/es.array.push.js"),n("../node_modules/react/index.js")),i=n("../node_modules/lodash/kebabCase.js"),r=n.n(i),a=n("../node_modules/lodash/mapValues.js"),l=n.n(a),d=n("./app/components/events/interfaces/performance/utils.tsx"),c=n("./app/components/events/meta/annotatedText/index.tsx"),p=n("./app/components/performance/waterfall/utils.tsx"),u=n("./app/locale.tsx"),m=n("./app/types/index.tsx"),g=n("./app/utils.tsx"),h=n("./app/views/performance/utils.tsx"),f=n("./app/components/events/interfaces/keyValueList/index.tsx"),v=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function y(e){let{event:t}=e;const n=(0,d.Lp)(t),s=t?.perfProblem;if(!s?.issueType||!n)return(0,v.tZ)(N,{event:t,offendingSpans:[],causeSpans:[],parentSpan:null});const o={[m.EM.PERFORMANCE_N_PLUS_ONE_DB_QUERIES]:Z,[m.EM.PERFORMANCE_N_PLUS_ONE_API_CALLS]:x,[m.EM.PERFORMANCE_SLOW_DB_QUERY]:_,[m.EM.PERFORMANCE_CONSECUTIVE_DB_QUERIES]:E,[m.EM.PERFORMANCE_RENDER_BLOCKING_ASSET]:j,[m.EM.PERFORMANCE_UNCOMPRESSED_ASSET]:w}[s.issueType]??N;return(0,v.tZ)(o,{event:t,...n})}y.displayName="SpanEvidenceKeyValueList";const E=e=>{let{event:t,causeSpans:n,offendingSpans:s}=e;return(0,v.tZ)(R,{data:[P(t),n?C((0,u.t)("Starting Span"),I(n[0])):null,C("Parallelizable Spans",s.map(I)),C((0,u.t)("Duration Impact"),k(t,z(n,s)))].filter(Boolean)})};E.displayName="ConsecutiveDBQueriesSpanEvidence";const Z=e=>{let{event:t,parentSpan:n,offendingSpans:s}=e;return(0,v.tZ)(R,{data:[P(t),n?C((0,u.t)("Parent Span"),I(n)):null,C((0,u.t)("Repeating Spans (%s)",s.length),I(s[0]))].filter(Boolean)})};Z.displayName="NPlusOneDBQueriesSpanEvidence";const x=e=>{let{event:t,offendingSpans:n}=e;const s=t?.entries?.find(b),i=s?.data?.url,r=function(e,t){const n=function(e){const t={};return e.forEach((e=>{for(const[n,s]of e.searchParams)t[n]??=[],t[n].push(s)})),l()(t,(e=>Array.from(new Set(e))))}(e.map((e=>L(e,t))).filter((e=>e instanceof URL))),s=[];for(const e in n){const t=n[e];t.length>1&&s.push(`${e}:{${t.join(",")}}`)}return s}(n,i),a=function(e,t){return L(e,t)?.pathname??""}(n[0],i);return(0,v.tZ)(R,{data:[P(t),a?C((0,u.t)("Repeating Spans (%s)",n.length),(0,v.tZ)("pre",{className:"val-string",children:(0,v.tZ)(c.q,{value:(0,v.BX)(o.Fragment,{children:[a,(0,v.tZ)(S,{children:"[Parameters]"})]})})})):null,r.length>0?C((0,u.t)("Parameters"),r):null].filter(Boolean)})};x.displayName="NPlusOneAPICallsSpanEvidence";const S=(0,s.Z)("span",{target:"enrenm20"})("color:",(e=>e.theme.errorText),";"),b=e=>e.type===m.UZ.REQUEST,_=e=>{let{event:t,offendingSpans:n}=e;return(0,v.tZ)(R,{data:[P(t),C((0,u.t)("Slow DB Query"),I(n[0]))]})};_.displayName="SlowDBQueryEvidence";const j=e=>{let{event:t,offendingSpans:n}=e;return(0,v.tZ)(R,{data:[P(t),C((0,u.t)("Slow Resource Span"),I(n[0]))]})};j.displayName="RenderBlockingAssetSpanEvidence";const w=e=>{let{event:t,offendingSpans:n}=e;return(0,v.tZ)(R,{data:[P(t),C((0,u.t)("Slow Resource Span"),I(n[0])),C((0,u.t)("Asset Size"),A(n[0],"Encoded Body Size")),C((0,u.t)("Duration Impact"),T(t,n[0]))]})};w.displayName="UncompressedAssetSpanEvidence";const N=e=>{let{event:t,offendingSpans:n}=e;return(0,v.tZ)(R,{data:[P(t),n.length>0?C((0,u.t)("Offending Span"),I(n[0])):null].filter(Boolean)})};N.displayName="DefaultSpanEvidence";const R=e=>{let{data:t}=e;return(0,v.tZ)(f.Z,{shouldSort:!1,data:t})};R.displayName="PresortedKeyValueList";const P=e=>C((0,u.t)("Transaction"),e.title),C=(e,t)=>{const n=r()(e);return{key:n,subject:e,value:t,subjectDataTestId:`span-evidence-key-value-list.${n}`,isMultiValue:Array.isArray(t)}};function I(e){return e&&(e.op||e.description)?!e.op&&e.description?e.description:e.op&&!e.description?e.op:`${e.op} - ${e.description}`:(0,u.t)("(no value)")}const z=(e,t)=>{const n=O(e),s=Math.max(...t.map((e=>M(e)))),o=t.map((e=>e.span_id));let i=0;return e.forEach((e=>{o.includes(e.span_id)||(i+=M(e))})),n-Math.max(s,i)},O=e=>{let t=0;return e.forEach((e=>{t+=M(e)})),t},M=e=>{let{timestamp:t,start_timestamp:n}=e;return t&&n?1e3*(t-n):0};function k(e,t){const n=1e3*(e.endTimestamp-e.startTimestamp);if(!n)return null;const s=t/n;return`${(0,p.yI)(s)} (${(0,h.YL)(t)}/${(0,h.YL)(n)})`}function T(e,t){return void 0===t.timestamp||void 0===t.start_timestamp?null:k(e,1e3*(t?.timestamp-t?.start_timestamp))}function A(e,t){const n=function(e,t){return e.data?.[t]}(e,t);return n?`${(0,g.F)(n)} (${n} B)`:null}const L=(e,t)=>{try{let n=e?.data?.url;if(!n){const[t,s]=(e?.description??"").split(" ",2);n=s}return new URL(n,t)}catch(e){return null}}},"./app/components/events/interfaces/performance/utils.tsx":(e,t,n)=>{n.d(t,{Lp:()=>m,Vc:()=>u,uu:()=>p}),n("../node_modules/core-js/modules/es.error.cause.js"),n("../node_modules/core-js/modules/es.array.push.js");var s=n("../node_modules/@sentry/core/esm/exports.js"),o=n("../node_modules/lodash/keyBy.js"),i=n.n(o),r=n("./app/locale.tsx"),a=n("./app/types/index.tsx");const l={[a.EM.PERFORMANCE_CONSECUTIVE_DB_QUERIES]:(0,r.t)("Consecutive DB Queries are a sequence of database spans where one or more have been identified as parallelizable, or in other words, spans that may be shifted to the start of the sequence. This often occurs when a db query performs no filtering on the data, for example a query without a WHERE clause. To learn more about how to fix consecutive DB queries, check out these resources:"),[a.EM.PERFORMANCE_N_PLUS_ONE_DB_QUERIES]:(0,r.t)("N+1 queries are extraneous queries (N) caused by a single, initial query (+1). In the Span Evidence above, we've identified the parent span where the extraneous spans are located and the extraneous spans themselves. To learn more about how to fix N+1 problems, check out these resources:"),[a.EM.PERFORMANCE_N_PLUS_ONE_API_CALLS]:(0,r.t)("N+1 API Calls are repeated concurrent calls to fetch a resource. These spans will always begin at the same time and may potentially be combined to fetch everything at once to reduce server load. Alternatively, you may be able to lazily load the resources. To learn more about how and when to fix N+1 API Calls, check out these resources:"),[a.EM.PERFORMANCE_FILE_IO_MAIN_THREAD]:(0,r.t)("File IO operations on your main thread may cause app hangs."),[a.EM.PERFORMANCE_SLOW_DB_QUERY]:(0,r.t)("Slow DB Queries are SELECT query spans that take longer than 1s. A quick method to understand why this may be the case is running an EXPLAIN command on the query itself. To learn more about how to fix slow DB queries, check out these resources:"),[a.EM.PERFORMANCE_RENDER_BLOCKING_ASSET]:(0,r.t)("Large render blocking assets are a type of resource that is delaying the First Contentful Paint (FCP). Delaying FCP impacts how long it takes to initially load the page for the user. The resource may take form of a script, stylesheet, image, or other asset that may require optimization. To learn more about how to fix large render blocking assets, check out these resources:"),[a.EM.PERFORMANCE_UNCOMPRESSED_ASSET]:(0,r.t)("Uncompressed assets are asset spans that take over 200ms and are larger than 512kB which can usually be made faster with compression. Check that your server or CDN serving your assets is accepting the content encoding header from the browser and is returning them compressed."),[a.EM.ERROR]:""},d={[a.EM.PERFORMANCE_CONSECUTIVE_DB_QUERIES]:[{text:(0,r.t)("Sentry Docs: Consecutive DB Queries"),link:"https://docs.sentry.io/product/issues/issue-details/performance-issues/consecutive-db-queries/"}],[a.EM.PERFORMANCE_N_PLUS_ONE_DB_QUERIES]:[{text:(0,r.t)("Sentry Docs: N+1 Queries"),link:"https://docs.sentry.io/product/issues/issue-details/performance-issues/n-one-queries/"}],[a.EM.PERFORMANCE_N_PLUS_ONE_API_CALLS]:[{text:(0,r.t)("Sentry Docs: N+1 API Calls"),link:"https://docs.sentry.io/product/issues/issue-details/performance-issues/n-one-api-calls/"}],[a.EM.PERFORMANCE_UNCOMPRESSED_ASSET]:[],[a.EM.PERFORMANCE_FILE_IO_MAIN_THREAD]:[],[a.EM.PERFORMANCE_SLOW_DB_QUERY]:[],[a.EM.PERFORMANCE_RENDER_BLOCKING_ASSET]:[{text:(0,r.t)("Web Vital: First Contentful Paint"),link:"https://web.dev/fcp/"}],[a.EM.ERROR]:[]},c={[a.EM.PERFORMANCE_N_PLUS_ONE_DB_QUERIES]:{python:[{text:(0,r.t)("Finding and Fixing Django N+1 Problems"),link:"https://blog.sentry.io/2020/09/14/finding-and-fixing-django-n-1-problems"}],"python-django":[{text:(0,r.t)("Finding and Fixing Django N+1 Problems"),link:"https://blog.sentry.io/2020/09/14/finding-and-fixing-django-n-1-problems"}]},[a.EM.PERFORMANCE_N_PLUS_ONE_API_CALLS]:{},[a.EM.PERFORMANCE_CONSECUTIVE_DB_QUERIES]:{},[a.EM.PERFORMANCE_FILE_IO_MAIN_THREAD]:{},[a.EM.PERFORMANCE_SLOW_DB_QUERY]:{},[a.EM.PERFORMANCE_UNCOMPRESSED_ASSET]:{},[a.EM.PERFORMANCE_RENDER_BLOCKING_ASSET]:{},[a.EM.ERROR]:{}};function p(e){return l[e]}function u(e,t){let n=[];if(d[e]&&(n=[...d[e]]),c[e]&&t){const s=c[e][t];s&&(n=[...n,...s])}return n}function m(e){if(!e.perfProblem)return e.issueCategory===a.qE.PERFORMANCE&&e.endTimestamp>166356e4&&s.Tb(new Error("Span Evidence missing for performance issue.")),null;const t=e.entries.find((e=>e.type===a.UZ.SPANS)),n=t?.data?[...t.data]:[];e?.contexts?.trace&&e?.contexts?.trace?.span_id&&n.push(e.contexts.trace);const o=i()(n,"span_id"),r=e?.perfProblem?.parentSpanIds??[],l=e?.perfProblem?.offenderSpanIds??[],d=e?.perfProblem?.causeSpanIds??[];return{parentSpan:o[r[0]],offendingSpans:l.map((e=>o[e])),causeSpans:d.map((e=>o[e]))}}},"./app/components/pagination.tsx":(e,t,n)=>{n.d(t,{Z:()=>v});var s=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=(n("../node_modules/core-js/modules/es.array.push.js"),n("../node_modules/react-router/es/index.js")),i=n("./app/components/button.tsx"),r=n("./app/components/buttonBar.tsx"),a=n("./app/icons/index.tsx"),l=n("./app/locale.tsx"),d=n("./app/styles/space.tsx"),c=n("./app/utils/parseLinkHeader.tsx"),p=n("./app/utils/useLocation.tsx"),u=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const m=(e,t,n,s)=>o.browserHistory.push({pathname:t,query:{...n,cursor:e}}),g=e=>{let{to:t,className:n,onCursor:s=m,paginationAnalyticsEvent:o,pageLinks:d,size:g="sm",caption:v,disabled:y=!1}=e;const E=(0,p.T)();if(!d)return null;const Z=t??E.pathname,x=E.query,S=(0,c.Z)(d),b=y||!1===S.previous?.results,_=y||!1===S.next?.results;return(0,u.BX)(h,{className:n,"data-test-id":"pagination",children:[v&&(0,u.tZ)(f,{children:v}),(0,u.BX)(r.ZP,{merged:!0,children:[(0,u.tZ)(i.zx,{icon:(0,u.tZ)(a.g6,{direction:"left",size:"sm"}),"aria-label":(0,l.t)("Previous"),size:g,disabled:b,onClick:()=>{s?.(S.previous?.cursor,Z,x,-1),o?.("Previous")}}),(0,u.tZ)(i.zx,{icon:(0,u.tZ)(a.g6,{direction:"right",size:"sm"}),"aria-label":(0,l.t)("Next"),size:g,disabled:_,onClick:()=>{s?.(S.next?.cursor,Z,x,1),o?.("Next")}})]})]})};g.displayName="Pagination";const h=(0,s.Z)("div",{target:"e1yybcqw1"})("display:flex;align-items:center;justify-content:flex-end;margin:",(0,d.Z)(3)," 0 0 0;"),f=(0,s.Z)("span",{target:"e1yybcqw0"})("color:",(e=>e.theme.subText),";font-size:",(e=>e.theme.fontSizeMedium),";margin-right:",(0,d.Z)(2),";"),v=g},"./app/utils/replaceRouterParams.tsx":(e,t,n)=>{function s(e,t){const n=e.match(/:\w+/g);return n&&n.length?(n.forEach((n=>{const s=n.slice(1);void 0!==t[s]&&(e=e.replace(n,String(t[s])))})),e):e}n.d(t,{Z:()=>s})},"./app/utils/useParams.tsx":(e,t,n)=>{n.d(t,{U:()=>r});var s=n("../node_modules/react/index.js"),o=n("./app/constants/index.tsx"),i=n("./app/utils/useRouteContext.tsx");function r(){const e=(0,i.s)().params;return(0,s.useMemo)((()=>o.Yj&&o.QI&&void 0===e.orgId?{...e,orgId:o.QI}:e),[e])}},"./app/utils/withOrganizations.tsx":(e,t,n)=>{n.d(t,{Z:()=>l});var s=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=n("../node_modules/react/index.js"),i=n("./app/stores/organizationsStore.tsx"),r=n("./app/utils/getDisplayName.tsx"),a=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const l=function(e){class t extends o.Component{constructor(){super(...arguments),(0,s.Z)(this,"state",{organizations:i.Z.getAll()}),(0,s.Z)(this,"unsubscribe",i.Z.listen((e=>this.setState({organizations:e})),void 0))}componentWillUnmount(){this.unsubscribe()}render(){const{organizationsLoading:t,organizations:n,...s}=this.props;return(0,a.tZ)(e,{organizationsLoading:t??!i.Z.loaded,organizations:n??this.state.organizations,...s})}}return t.displayName="WithOrganizations",(0,s.Z)(t,"displayName",`withOrganizations(${(0,r.Z)(e)})`),t}},"./app/views/organizationGroupDetails/unhandledTag.tsx":(e,t,n)=>{n.d(t,{S:()=>p,Z:()=>u});var s=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=n("./app/components/tag.tsx"),i=n("./app/components/tooltip.tsx"),r=n("./app/locale.tsx"),a=n("./app/styles/space.tsx"),l=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function d(){return(0,l.tZ)(c,{children:(0,l.tZ)(i.u,{title:(0,r.t)("An unhandled error was detected in this Issue."),children:(0,l.tZ)(o.Z,{type:"error",children:(0,r.t)("Unhandled")})})})}d.displayName="UnhandledTag";const c=(0,s.Z)("div",{target:"ealhf0y1"})("margin-right:",(0,a.Z)(1),";"),p=(0,s.Z)("div",{target:"ealhf0y0"})({name:"s5xdrg",styles:"display:flex;align-items:center"}),u="app"==n.j?d:null},"./app/views/organizationIntegrations/integrationIcon.tsx":(e,t,n)=>{n.d(t,{Z:()=>c});var s=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=n("../node_modules/react/index.js"),r=n("./app/plugins/components/pluginIcon.tsx"),a=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const l=(0,o.Z)("img",{target:"eqviow80"})("height:",(e=>e.size),"px;width:",(e=>e.size),"px;border-radius:2px;display:block;");class d extends i.Component{constructor(){super(...arguments),(0,s.Z)(this,"state",{imgSrc:this.props.integration.icon})}render(){const{integration:e,size:t}=this.props;return(0,a.tZ)(l,{size:t,src:this.state.imgSrc,onError:()=>{this.setState({imgSrc:r.kg[e.provider.key]||r.jp})}})}}d.displayName="Icon";const c=e=>{let{integration:t,size:n=32}=e;return t.icon?(0,a.tZ)(d,{size:n,integration:t}):(0,a.tZ)(r.ZP,{size:n,pluginId:t.provider.key})}}}]);
//# sourceMappingURL=../sourcemaps/app_actionCreators_navigation_tsx-app_components_eventOrGroupHeader_tsx-app_components_pagina-1d6445.f3a2d7f72f3c5ef76e44c822caac992b.js.map