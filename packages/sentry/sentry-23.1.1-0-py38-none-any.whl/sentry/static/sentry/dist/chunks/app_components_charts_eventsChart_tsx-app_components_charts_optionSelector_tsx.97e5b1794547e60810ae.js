"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_charts_eventsChart_tsx-app_components_charts_optionSelector_tsx"],{"./app/components/charts/chartZoom.tsx":(e,t,s)=>{s.d(t,{Z:()=>y});var o=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),r=(s("../node_modules/core-js/modules/es.array.push.js"),s("../node_modules/react/index.js")),a=s("../node_modules/moment/moment.js"),n=s.n(a),i=s("../node_modules/query-string/index.js"),l=s("./app/actionCreators/pageFilters.tsx"),d=s("./app/components/charts/components/dataZoomInside.tsx");s("../node_modules/echarts/lib/component/dataZoomSlider.js");const p={realtime:!1,showDetail:!1,left:0,right:6,bottom:8};function c(e){return e&&Array.isArray(e)?e:[{...p,...e}]}var m=s("./app/components/charts/components/toolBox.tsx"),u=s("./app/utils/callIfFunction.tsx"),h=s("./app/utils/dates.tsx");const g=e=>e?n().utc(e).format(n().HTML5_FMT.DATETIME_LOCAL_SECONDS):null;class v extends r.Component{constructor(e){var t;super(e),t=this,(0,o.Z)(this,"history",void 0),(0,o.Z)(this,"currentPeriod",void 0),(0,o.Z)(this,"zooming",null),(0,o.Z)(this,"saveCurrentPeriod",(e=>{this.currentPeriod={period:e.period,start:g(e.start),end:g(e.end)}})),(0,o.Z)(this,"setPeriod",(function(e){let{period:s,start:o,end:r}=e,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{router:n,onZoom:d,usePageDate:p}=t.props,c=g(o),m=g(r);a&&t.history.push(t.currentPeriod),d?.({period:s,start:c,end:m}),t.zooming=()=>{if(p&&n){const e={...n.location.query,pageStart:o?(0,h.v5)(o):void 0,pageEnd:r?(0,h.v5)(r):void 0,pageStatsPeriod:s??void 0};i.stringify(e)!==i.stringify(n.location.query)&&n.push({pathname:n.location.pathname,query:e})}else(0,l.dR)({period:s,start:c?(0,h.hC)(c):c,end:m?(0,h.hC)(m):m},n);t.saveCurrentPeriod({period:s,start:o,end:r})}})),(0,o.Z)(this,"handleChartReady",(e=>{this.props.onChartReady?.(e)})),(0,o.Z)(this,"handleZoomRestore",((e,t)=>{this.history.length&&(this.setPeriod(this.history[0]),this.history=[],this.props.onRestore?.(e,t))})),(0,o.Z)(this,"handleDataZoom",((e,t)=>{const s=t.getModel(),{startValue:o,endValue:r}=s._payload.batch[0];if(null===o&&null===r){const e=this.history.pop();if(!e)return;this.setPeriod(e)}else{const e=n().utc(o),t=n().utc(r);this.setPeriod({period:null,start:e,end:t},!0)}this.props.onDataZoom?.(e,t)})),(0,o.Z)(this,"handleChartFinished",((e,t)=>{"function"==typeof this.zooming&&(this.zooming(),this.zooming=null);const s=t._componentsViews?.find((e=>e._features&&e._features.dataZoom));s&&!s._features.dataZoom._isZoomActive&&t.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:!0}),(0,u.g)(this.props.onFinished)})),this.history=[],this.saveCurrentPeriod(e)}componentDidUpdate(){this.props.disabled||this.saveCurrentPeriod(this.props)}render(){const{utc:e,start:t,end:s,disabled:o,children:r,xAxisIndex:a,router:n,onZoom:i,onRestore:l,onChartReady:p,onDataZoom:u,onFinished:g,showSlider:v,chartZoomOptions:y,...x}=this.props,f=e??void 0,b=t?(0,h.hC)(t):void 0,Z=s?(0,h.hC)(s):void 0;return r(o?{utc:f,start:b,end:Z,...x}:{isGroupedByDate:!0,onChartReady:this.handleChartReady,utc:f,start:b,end:Z,dataZoom:v?[...c({xAxisIndex:a,...y}),...(0,d.Z)({xAxisIndex:a,...y})]:(0,d.Z)({xAxisIndex:a,...y}),showTimeInTooltip:!0,toolBox:(0,m.Z)({},{dataZoom:{title:{zoom:"",back:""},iconStyle:{borderWidth:0,color:"transparent",opacity:0}}}),onDataZoom:this.handleDataZoom,onFinished:this.handleChartFinished,onRestore:this.handleZoomRestore,...x})}}v.displayName="ChartZoom";const y=v},"./app/components/charts/components/dataZoomInside.tsx":(e,t,s)=>{s.d(t,{Z:()=>r}),s("../node_modules/echarts/lib/component/dataZoomInside.js");const o={type:"inside",zoomOnMouseWheel:!1,zoomLock:!0,throttle:50};function r(e){return e&&Array.isArray(e)?e:[{...o,...e}]}},"./app/components/charts/components/toolBox.tsx":(e,t,s)=>{function o(){let{dataZoom:e,...t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{...e?{dataZoom:{yAxisIndex:"none",title:{zoom:"zoom",back:"undo"},...e}}:{},...t}}function r(e,t){return{right:0,top:0,itemSize:16,z:-1,feature:o(t),...e}}s.d(t,{Z:()=>r})},"./app/components/charts/components/visualMap.tsx":(e,t,s)=>{function o(e){return e}s.d(t,{Z:()=>o}),s("../node_modules/echarts/lib/component/visualMap.js")},"./app/components/charts/errorPanel.tsx":(e,t,s)=>{s.d(t,{Z:()=>o});const o=(0,s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js").Z)("div",{target:"e1t1x7f30"})("display:flex;flex-direction:column;justify-content:center;align-items:center;flex:1;flex-shrink:0;overflow:hidden;height:",(e=>e.height||"200px"),";position:relative;border-color:transparent;margin-bottom:0;color:",(e=>e.theme.gray300),";font-size:",(e=>e.theme.fontSizeExtraLarge),";")},"./app/components/charts/eventsChart.tsx":(e,t,s)=>{s.d(t,{Z:()=>k});var o=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),r=(s("../node_modules/core-js/modules/es.array.includes.js"),s("../node_modules/core-js/modules/es.error.cause.js"),s("../node_modules/core-js/modules/es.array.push.js"),s("../node_modules/react/index.js")),a=s("../node_modules/@emotion/react/dist/emotion-element-6a883da9.browser.esm.js"),n=s("../node_modules/lodash/isEqual.js"),i=s.n(n),l=s("./app/components/charts/areaChart.tsx"),d=s("./app/components/charts/barChart.tsx"),p=s("./app/components/charts/chartZoom.tsx"),c=s("./app/components/charts/errorPanel.tsx"),m=s("./app/components/charts/lineChart.tsx"),u=s("./app/components/charts/releaseSeries.tsx"),h=s("./app/components/charts/transitionChart.tsx"),g=s("./app/components/charts/transparentLoadingMask.tsx"),v=s("./app/components/charts/utils.tsx"),y=s("./app/components/charts/worldMapChart.tsx"),x=s("./app/icons/index.tsx"),f=s("./app/locale.tsx"),b=s("./app/utils.tsx"),Z=s("./app/utils/discover/charts.tsx"),S=s("./app/utils/discover/fields.tsx"),j=s("./app/utils/queryString.tsx"),C=s("./app/components/charts/eventsGeoRequest.tsx"),_=s("./app/components/charts/eventsRequest.tsx"),D=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class w extends r.Component{constructor(){super(...arguments),(0,o.Z)(this,"state",{seriesSelection:{},forceUpdate:!1}),(0,o.Z)(this,"handleLegendSelectChanged",(e=>{const{disableableSeries:t=[]}=this.props,{selected:s}=e,o=Object.keys(s).reduce(((e,o)=>{const r=["Releases","Other"].includes(o)||t.includes(o);return e[o]=!r||s[o],e}),{});this.setState({seriesSelection:o,forceUpdate:!0},(()=>this.setState({forceUpdate:!1})))}))}shouldComponentUpdate(e,t){return!(!t.forceUpdate&&i()(this.state.seriesSelection,t.seriesSelection)&&(e.reloading||!e.timeseriesData||i()(this.props.timeseriesData,e.timeseriesData)&&i()(this.props.releaseSeries,e.releaseSeries)&&i()(this.props.previousTimeseriesData,e.previousTimeseriesData)&&i()(this.props.tableData,e.tableData)&&i()(this.props.additionalSeries,e.additionalSeries)))}getChartComponent(){const{showDaily:e,timeseriesData:t,yAxis:s,chartComponent:o}=this.props;if((0,b.ri)(o))return o;if(e)return d.v;if(t.length>1)switch((0,S.fD)(s)){case"line":return m.w;case"area":return l.T;default:throw new Error(`Unknown multi plot type for ${s}`)}return l.T}render(){const{theme:e,loading:t,reloading:s,yAxis:o,releaseSeries:r,zoomRenderProps:a,timeseriesData:n,previousTimeseriesData:i,showLegend:l,legendOptions:p,chartOptions:c,currentSeriesNames:m,previousSeriesNames:u,seriesTransformer:h,previousSeriesTransformer:g,colors:x,height:b,timeframe:j,topEvents:C,tableData:_,fromDiscover:w,timeseriesResultsTypes:R,additionalSeries:A,...k}=this.props,{seriesSelection:P}=this.state;let z=this.getChartComponent();if(z===y.y){const{data:e,title:t}=(0,v.JT)(_),s=[{seriesName:t,data:e}];return(0,D.tZ)(y.y,{series:s,fromDiscover:w})}const T=[...m.length>0?m:[(0,f.t)("Current")],...u.length>0?u:[(0,f.t)("Previous")],...A?A.map((e=>e.name)):[]],M=(0,f.t)("Releases"),L=C&&C+1===n.length;L&&T.push("Other"),Array.isArray(r)&&T.push(M);const O=r&&r[0],q=Array.isArray(r)&&O?.markLine?.data&&O.markLine.data.length>=v.XO,N=Array.isArray(r)&&0===Object.keys(P).length&&q?{[M]:!1}:P,E=l?{right:16,top:12,data:T,selected:N,...p??{}}:void 0;let F=Array.isArray(r)?[...n,...r]:n,I=i;h&&(F=h(F)),g&&(I=I?.map((e=>g(e))));const $=n.length?x?.slice(0,F.length)??[...e.charts.getColorPalette(n.length-2-(L?1:0))]:void 0;$&&$.length&&L&&$.push(e.chartOther);const Q={colors:$,grid:{left:"24px",right:"24px",top:"32px",bottom:"12px"},seriesOptions:{showSymbol:!1},tooltip:{trigger:"axis",truncate:80,valueFormatter:(e,t)=>{const s=t?.replace(/^previous /,"").split(":").pop()?.trim();return s?R?(0,Z.CX)(e,R[s]):(0,Z.CX)(e,(0,S.Px)(s)):(0,Z.CX)(e,"number")}},xAxis:j?{min:j.start,max:j.end}:void 0,yAxis:{axisLabel:{color:e.chartLabel,formatter:e=>{if(R){const t=1===new Set(Object.values(R)).size?R[o]:"number";return(0,Z.x1)(e,t)}return(0,Z.gu)(e,(0,S.Px)(o))}}},...c??{},animation:typeof z!=typeof d.v&&void 0};return(0,D.tZ)(z,{...k,...a,...Q,legend:E,onLegendSelectChanged:this.handleLegendSelectChanged,series:F,previousPeriod:I||void 0,height:b,additionalSeries:A})}}w.displayName="Chart";const R=(0,a.b)(w);class A extends r.Component{isStacked(){const{topEvents:e,yAxis:t}=this.props;return"number"==typeof e&&e>0||Array.isArray(t)&&t.length>1}render(){const{api:e,organization:t,period:s,utc:o,query:a,router:n,start:i,end:l,projects:d,environments:m,showLegend:b,minutesThresholdToDisplaySeconds:Z,yAxis:w,disablePrevious:A,disableReleases:k,emphasizeReleases:P,currentSeriesName:z,previousSeriesName:T,seriesTransformer:M,previousSeriesTransformer:L,field:O,interval:q,showDaily:N,topEvents:E,orderby:F,confirmedQuery:I,colors:$,chartHeader:Q,legendOptions:U,chartOptions:W,preserveReleaseQueryParams:B,releaseQueryExtra:G,disableableSeries:X,chartComponent:H,usePageZoom:V,height:Y,withoutZerofill:J,fromDiscover:K,additionalSeries:ee,loadingAdditionalSeries:te,reloadingAdditionalSeries:se,...oe}=this.props,re=!A&&!i&&!l,ae=(0,j.qP)(w),ne=ae.map((e=>{let t=e&&(0,S.GO)(e)?(0,S.vp)(e):e;return t&&t.length>60&&(t=t.substr(0,60)+"..."),t})),ie=T?[T]:ne.map((e=>(0,f.t)("previous %s",e))),le=z?[z]:ne,de=N?"1d":q||(0,v.ZS)(this.props,"high");let pe=e=>{let{zoomRenderProps:t,releaseSeries:s,errored:o,loading:a,reloading:n,results:i,timeseriesData:l,previousTimeseriesData:d,timeframe:p,tableData:m,timeseriesResultsTypes:u}=e;if(o)return(0,D.tZ)(c.Z,{children:(0,D.tZ)(x.FC,{color:"gray300",size:"lg"})});const v=i||l;return(0,D.BX)(h.Z,{loading:a,reloading:n||!!se,height:Y?`${Y}px`:void 0,children:[(0,D.tZ)(g.Z,{visible:n||!!se}),r.isValidElement(Q)&&Q,(0,D.tZ)(R,{zoomRenderProps:t,loading:a||!!te,reloading:n||!!se,showLegend:b,minutesThresholdToDisplaySeconds:Z,releaseSeries:s||[],timeseriesData:v??[],previousTimeseriesData:d,currentSeriesNames:le,previousSeriesNames:ie,seriesTransformer:M,additionalSeries:ee,previousSeriesTransformer:L,stacked:this.isStacked(),yAxis:ae[0],showDaily:N,colors:$,legendOptions:U,chartOptions:W,disableableSeries:X,chartComponent:H,height:Y,timeframe:p,topEvents:E,tableData:m??[],fromDiscover:K,timeseriesResultsTypes:u})]})};if(!k){const e=pe;pe=t=>(0,D.tZ)(u.Z,{utc:o,period:s,start:i,end:l,projects:d,environments:m,emphasizeReleases:P,preserveQueryParams:B,queryExtra:G,children:s=>{let{releaseSeries:o}=s;return e({...t,releaseSeries:o})}})}return(0,D.tZ)(p.Z,{router:n,period:s,start:i,end:l,utc:o,usePageDate:V,...oe,children:o=>H===y.y?(0,D.tZ)(C.Z,{api:e,organization:t,yAxis:w,query:a,orderby:F,projects:d,period:s,start:i,end:l,environments:m,referrer:oe.referrer,children:e=>{let{errored:t,loading:s,reloading:r,tableData:a}=e;return pe({errored:t,loading:s,reloading:r,zoomRenderProps:o,tableData:a})}}):(0,D.tZ)(_.Z,{...oe,api:e,organization:t,period:s,project:d,environment:m,start:i,end:l,interval:de,query:a,includePrevious:re,currentSeriesNames:le,previousSeriesNames:ie,yAxis:w,field:O,orderby:F,topEvents:E,confirmedQuery:I,partial:!0,withoutZerofill:J&&!this.isStacked(),children:e=>pe({...e,zoomRenderProps:o})})})}}A.displayName="EventsChart";const k=A},"./app/components/charts/eventsGeoRequest.tsx":(e,t,s)=>{s.d(t,{Z:()=>d});var o=s("../node_modules/react/index.js"),r=s("./app/utils/dates.tsx"),a=s("./app/utils/discover/eventView.tsx"),n=s("./app/utils/discover/genericDiscoverQuery.tsx"),i=s("./app/utils/toArray.tsx"),l=s("./app/utils/usePrevious.tsx");const d=e=>{let{api:t,organization:s,yAxis:d,query:p,orderby:c,projects:m,period:u,start:h,end:g,environments:v,referrer:y,children:x}=e;const f=(0,o.useMemo)((()=>a.ZP.fromSavedQuery({id:void 0,name:"",version:2,fields:(0,i.Z)(d),query:p,orderby:c??"",projects:m,range:u??"",start:h?(0,r.v5)(h):void 0,end:g?(0,r.v5)(g):void 0,environment:v})),[d,p,c,m,u,h,g,v]),[b,Z]=(0,o.useState)(void 0),[S,j]=(0,o.useState)(!1),[C,_]=(0,o.useState)(!1),D=(0,l.Z)(t),w=(0,l.Z)(f),R=(0,l.Z)(s.slug),A=(0,l.Z)(y);return(0,o.useEffect)((()=>{let e=!0;return _(!1),D===t&&w===f&&R===s.slug&&A===y||j(!0),(0,n.AA)(t,`/organizations/${s.slug}/events-geo/`,{...f.generateQueryStringObject(),referrer:y}).then((t=>{e&&(Z([t[0]]),j(!1))})).catch((()=>{e&&(_(!0),j(!1))})),()=>{e=!1}}),[t,f,s.slug,y,D,w,R,A]),x({errored:C,loading:!b&&!C,reloading:S,tableData:b})}},"./app/components/charts/lineChart.tsx":(e,t,s)=>{s.d(t,{w:()=>n});var o=s("./app/components/charts/series/lineSeries.tsx"),r=s("./app/components/charts/baseChart.tsx"),a=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function n(e){let{series:t,seriesOptions:s,...n}=e;return(0,a.tZ)(r.Z,{...n,series:t.map((e=>{let{seriesName:t,data:r,dataArray:a,...n}=e;return(0,o.Z)({...s,...n,name:t,data:a||r?.map((e=>{let{value:t,name:s}=e;return[s,t]})),animation:!1,animationThreshold:1,animationDuration:0})}))})}n.displayName="LineChart"},"./app/components/charts/optionSelector.tsx":(e,t,s)=>{s.d(t,{Z:()=>m});var o=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=(s("../node_modules/core-js/modules/es.array.includes.js"),s("../node_modules/react/index.js")),a=s("./app/components/compactSelect.tsx"),n=s("./app/components/featureBadge.tsx"),i=s("./app/components/truncate.tsx"),l=s("./app/utils.tsx"),d=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function p(e){let{options:t,onChange:s,selected:o,title:n,featureType:p,multiple:m,...u}=e;const h=(0,r.useMemo)((()=>t.map((e=>({...e,label:(0,d.tZ)(i.Z,{value:String(e.label),maxLength:60,expandDirection:"left"})})))),[t]);return(0,d.tZ)(a.Z,{size:"sm",options:h,value:o,onChange:e=>{s(m?e.map((e=>e.value)):e.value)},isOptionDisabled:function(e){return e.disabled||m&&3===o.length&&!o.includes(e.value)},multiple:m,triggerProps:{borderless:!0,prefix:(0,d.BX)(r.Fragment,{children:[n,(0,l.ri)(p)?(0,d.tZ)(c,{type:p}):null]})},position:"bottom-end",...u})}p.displayName="OptionSelector";const c=(0,o.Z)(n.Z,{target:"e56rtee0"})({name:"6og82r",styles:"margin-left:0px"}),m=p},"./app/components/charts/releaseSeries.tsx":(e,t,s)=>{s.d(t,{Z:()=>C});var o=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),r=(s("../node_modules/core-js/modules/es.array.includes.js"),s("../node_modules/core-js/modules/es.array.push.js"),s("../node_modules/react/index.js")),a=s("../node_modules/@emotion/react/dist/emotion-element-6a883da9.browser.esm.js"),n=s("../node_modules/lodash/isEqual.js"),i=s.n(n),l=s("../node_modules/lodash/memoize.js"),d=s.n(l),p=s("../node_modules/lodash/partition.js"),c=s.n(p),m=s("./app/actionCreators/indicator.tsx"),u=s("./app/components/charts/components/markLine.tsx"),h=s("./app/locale.tsx"),g=s("./app/utils.tsx"),v=s("./app/utils/dates.tsx"),y=s("./app/utils/formatters.tsx"),x=s("./app/utils/parseLinkHeader.tsx"),f=s("./app/utils/withApi.tsx"),b=s("./app/utils/withOrganization.tsx"),Z=s("./app/utils/withSentryRouter.tsx");function S(e,t,s){const o={};return Object.keys(s).forEach((e=>{let t=s[e];!t||"start"!==e&&"end"!==e||(t=(0,v.v5)(t)),t&&(o[e]=t)})),e.clear(),e.requestPromise(`/organizations/${t.slug}/releases/stats/`,{includeAllArgs:!0,method:"GET",query:o})}class j extends r.Component{constructor(){var e;super(...arguments),e=this,(0,o.Z)(this,"state",{releases:null,releaseSeries:[]}),(0,o.Z)(this,"_isMounted",!1),(0,o.Z)(this,"getOrganizationReleasesMemoized",d()(((e,t,s)=>S(e,t,s)),((e,t,s)=>Object.values(s).map((e=>JSON.stringify(e))).join("-")))),(0,o.Z)(this,"getReleaseSeries",(function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{organization:o,router:r,tooltip:a,environments:n,start:i,end:l,period:d,preserveQueryParams:p,queryExtra:c,theme:m}=e.props,x={...c};o.features.includes("global-views")&&(x.project=r.location.query.project),p&&(x.environment=[...n],x.start=i?(0,v.v5)(i):void 0,x.end=l?(0,v.v5)(l):void 0,x.statsPeriod=d||void 0);const f=(0,u.Z)({animation:!1,lineStyle:{color:m.purple300,opacity:.3,type:"solid",...s},label:{show:!1},data:t.map((e=>({xAxis:+new Date(e.date),name:(0,y.ko)(e.version,!0),value:(0,y.ko)(e.version,!0),onClick:()=>{r.push({pathname:`/organizations/${o.slug}/releases/${e.version}/`,query:x})},label:{formatter:()=>(0,y.ko)(e.version,!0)}}))),tooltip:a||{trigger:"item",formatter:t=>{let{data:s}=t;const o=(0,v.L0)(s.value,"MMM D, YYYY LT",{local:!e.props.utc}),r=(0,g.YU)((0,y.ko)(s.name,!0));return['<div class="tooltip-series">',`<div><span class="tooltip-label"><strong>${(0,h.t)("Release")}</strong></span> ${r}</div>`,"</div>",'<div class="tooltip-footer">',o,"</div>","</div>",'<div class="tooltip-arrow"></div>'].join("")}}});return{seriesName:"Releases",color:m.purple200,data:[],markLine:f}}))}componentDidMount(){this._isMounted=!0;const{releases:e}=this.props;e?this.setReleasesWithSeries(e):this.fetchData()}componentDidUpdate(e){i()(e.projects,this.props.projects)&&i()(e.environments,this.props.environments)&&i()(e.start,this.props.start)&&i()(e.end,this.props.end)&&i()(e.period,this.props.period)&&i()(e.query,this.props.query)?i()(e.emphasizeReleases,this.props.emphasizeReleases)||this.setReleasesWithSeries(this.state.releases):this.fetchData()}componentWillUnmount(){this._isMounted=!1,this.props.api.clear()}async fetchData(){const{api:e,organization:t,projects:s,environments:o,period:r,start:a,end:n,memoized:i,query:l}=this.props,d={start:a,end:n,project:s,environment:o,statsPeriod:r,query:l};let p=!0;const c=[];for(;p;)try{const s=i?this.getOrganizationReleasesMemoized:S,[o,,r]=await s(e,t,d);c.push(...o),this._isMounted&&this.setReleasesWithSeries(c);const a=r?.getResponseHeader("Link");if(a){const e=(0,x.Z)(a);p=e?.next?.results??!1,d.cursor=e.next.cursor}else p=!1}catch{(0,m.Iw)((0,h.t)("Error fetching releases")),p=!1}}setReleasesWithSeries(e){const{emphasizeReleases:t=[]}=this.props,s=[];if(t.length){const[o,r]=c()(e,(e=>!t.includes(e.version)));o.length&&s.push(this.getReleaseSeries(o,{type:"dotted"})),r.length&&s.push(this.getReleaseSeries(r,{opacity:.8}))}else s.push(this.getReleaseSeries(e));this.setState({releases:e,releaseSeries:s})}render(){const{children:e}=this.props;return e({releases:this.state.releases,releaseSeries:this.state.releaseSeries})}}j.displayName="ReleaseSeries";const C=(0,Z.Z)((0,b.Z)((0,f.Z)((0,a.b)(j))))},"./app/components/charts/transitionChart.tsx":(e,t,s)=>{s.d(t,{Z:()=>l});var o=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),r=s("../node_modules/react/index.js"),a=s("./app/components/charts/loadingPanel.tsx"),n=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class i extends r.Component{constructor(){super(...arguments),(0,o.Z)(this,"state",{prevReloading:this.props.reloading,prevLoading:this.props.loading,key:1})}static getDerivedStateFromProps(e,t){const s=t.prevReloading,o=e.reloading,r=t.prevLoading,a=e.loading;return r!==a?{prevReloading:o,prevLoading:a,key:t.key+1}:a?{prevReloading:o,prevLoading:a,key:t.key}:s&&!o?{prevReloading:o,prevLoading:a,key:t.key+1}:{prevReloading:o,prevLoading:a,key:t.key}}render(){const{height:e,loading:t,reloading:s}=this.props;return t&&!s?(0,n.tZ)(a.Z,{height:e,"data-test-id":"events-request-loading"}):(0,n.tZ)(r.Fragment,{children:this.props.children},String(this.state.key))}}i.displayName="TransitionChart",(0,o.Z)(i,"defaultProps",{height:"200px"});const l=i},"./app/components/charts/transparentLoadingMask.tsx":(e,t,s)=>{s.d(t,{Z:()=>n});var o=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=s("./app/components/loadingMask.tsx"),a=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const n=(0,o.Z)((e=>{let{className:t,visible:s,children:o,...n}=e;const i=s?{...n,"data-test-id":"loading-placeholder"}:n;return(0,a.tZ)(r.Z,{className:t,...i,children:o})}),{target:"e1t3xibm0"})((e=>!e.visible&&"display: none;"),";opacity:0.4;z-index:1;")},"./app/components/charts/worldMapChart.tsx":(e,t,s)=>{s.d(t,{y:()=>c});var o=s("../node_modules/react/index.js"),r=s("../node_modules/@emotion/react/dist/emotion-element-6a883da9.browser.esm.js"),a=s("../node_modules/echarts/lib/core/echarts.js"),n=s("../node_modules/lodash/max.js"),i=s.n(n),l=s("./app/components/charts/components/visualMap.tsx");s("../node_modules/echarts/lib/chart/map.js");var d=s("./app/components/charts/baseChart.tsx"),p=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function c(e){let{series:t,seriesOptions:n,fromDiscover:c,fromDiscoverQueryList:m,...u}=e;const h=(0,r.u)(),[g,v]=(0,o.useState)((()=>({countryToCodeMap:null,map:null,codeToCountryMap:null})));if((0,o.useEffect)((()=>{let e=!1;return e||async function(){try{const[e,t]=await Promise.all([s.e("app_data_countryCodesMap_tsx").then(s.bind(s,"./app/data/countryCodesMap.tsx")),s.e("app_data_world_json").then(s.t.bind(s,"./app/data/world.json",19))]),o=e.default,r=t.default;a.je?.("sentryWorld",r);const n={};for(const e in r)n[o[e]]=e;v({countryToCodeMap:o,map:r,codeToCountryMap:n})}catch{}}(),()=>{e=!0}}),[]),null===g.countryToCodeMap||null===g.map)return null;const y=t.map((e=>{let{seriesName:t,data:s,...o}=e;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{map:""};return{roam:!0,...e,emphasis:{label:{show:!1},...e.emphasis},type:"map"}}({...n,...o,map:"sentryWorld",name:t,nameMap:g.countryToCodeMap??void 0,aspectScale:.85,zoom:c?1.1:m?.9:1.3,center:[10.97,m?-12:9.71],itemStyle:{areaColor:h.gray200,borderColor:h.backgroundSecondary},emphasis:{itemStyle:{areaColor:h.pink300},label:{show:!1}},data:s,silent:m,roam:!m})})),x=i()(t.map((e=>{let{data:t}=e;return i()(t.map((e=>{let{value:t}=e;return t})))})))||1;return(0,p.tZ)(d.Z,{options:{backgroundColor:m?void 0:h.background,visualMap:[(0,l.Z)({show:!m,left:c?void 0:"right",right:c?5:void 0,min:0,max:x,inRange:{color:[h.purple200,h.purple300]},text:["High","Low"],textStyle:{color:h.textColor},calculable:!1})]},...u,yAxis:null,xAxis:null,series:y,tooltip:{formatter:e=>{const{marker:t,name:s,value:o}=Array.isArray(e)?e[0]:e;if(isNaN(o))return"";const r="number"==typeof o?o.toLocaleString():"";return[`<div class="tooltip-series tooltip-series-solo">\n               <div><span class="tooltip-label">${t} <strong>${g.codeToCountryMap?.[s]||s}</strong></span> ${r}</div>\n            </div>`,'<div class="tooltip-arrow"></div>'].join("")}},height:c?400:void 0})}c.displayName="WorldMapChart"}}]);
//# sourceMappingURL=../sourcemaps/app_components_charts_eventsChart_tsx-app_components_charts_optionSelector_tsx.8e0251b56cefbd639efae872fcd310a8.js.map