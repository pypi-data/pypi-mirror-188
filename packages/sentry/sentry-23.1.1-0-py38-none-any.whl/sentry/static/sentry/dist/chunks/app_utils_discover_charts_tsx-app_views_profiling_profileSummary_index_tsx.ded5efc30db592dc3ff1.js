"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_utils_discover_charts_tsx-app_views_profiling_profileSummary_index_tsx"],{"./app/components/profiling/profilingBreadcrumbs.tsx":(e,t,r)=>{r.d(t,{u:()=>c}),r("../node_modules/core-js/modules/es.error.cause.js");var o=r("../node_modules/react/index.js"),s=r("../node_modules/lodash/omit.js"),a=r.n(s),n=r("./app/components/breadcrumbs.tsx"),i=r("./app/locale.tsx"),l=r("./app/utils/profiling/routes.tsx"),u=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function c(e){let{organization:t,trails:r}=e;const s=(0,o.useMemo)((()=>r.map((e=>function(e,t){let{organization:r}=t;switch(e.type){case"landing":return{to:(0,l.XR)({query:a()(e.payload.query,["cursor","query"]),orgSlug:r.slug}),label:(0,i.t)("Profiling"),preservePageFilters:!0};case"profile summary":return{to:(0,l.R0)({query:a()(e.payload.query,["cursor","query"]),orgSlug:r.slug,projectSlug:e.payload.projectSlug,transaction:e.payload.transaction}),label:(0,i.t)("Profile Summary"),preservePageFilters:!0};case"flamechart":return{to:("flamechart"===e.payload.tab?l.TH:l.Qy)({query:e.payload.query,orgSlug:r.slug,projectSlug:e.payload.projectSlug,profileId:e.payload.profileId}),label:e.payload.transaction,preservePageFilters:!0};default:throw new Error(`Unknown breadcrumb type: ${JSON.stringify(e)}`)}}(e,{organization:t})))),[t,r]);return(0,u.tZ)(n.Z,{crumbs:s})}c.displayName="ProfilingBreadcrumbs"},"./app/utils/discover/charts.tsx":(e,t,r)=>{r.d(t,{CX:()=>n,Xp:()=>p,gu:()=>l,x1:()=>u});var o=r("./app/locale.tsx"),s=r("./app/utils.tsx"),a=r("./app/utils/formatters.tsx");function n(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"number";return(0,s.ri)(e)?i(e,t):"—"}function i(e,t){if(!(0,s.ri)(e))return"—";switch(t){case"integer":case"number":return e.toLocaleString();case"percentage":return(0,a.rl)(e,2);case"duration":return(0,a.g9)(e/1e3,2,!0);case"size":return(0,s.F)(e);default:return e.toString()}}function l(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3?arguments[3]:void 0;return u(e,t,r,o)}function u(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3?arguments[3]:void 0;switch(t){case"integer":case"number":return r?(0,a.Du)(e):e.toLocaleString();case"percentage":return(0,a.rl)(e,0);case"duration":return c(e,o);case"size":return(0,s.F)(e,0);default:return e.toString()}}function c(e,t){if(t??=d(e),0===e)return"0";switch(t){case a.ps:{const t=(e/a.ps).toFixed(0);return(0,o.t)("%swk",t)}case a.x4:{const t=(e/a.x4).toFixed(0);return(0,o.t)("%sd",t)}case a.kr:{const t=(e/a.kr).toFixed(0);return(0,o.t)("%shr",t)}case a.EB:{const t=(e/a.EB).toFixed(0);return(0,o.t)("%smin",t)}case a.sh:{const t=(e/a.sh).toFixed(0);return(0,o.t)("%ss",t)}default:const t=e.toFixed(0);return(0,o.t)("%sms",t)}}function p(e,t){let r=0;const o=function(e,t){let r;if(e[0]?.data){let o,s=e[0];e.forEach(((r,a)=>{let{seriesName:n,data:i}=r;!1!==t?.selected?.[n]&&i.length&&(s=e[a],o??=e[a])})),o?.data&&(r={max:Math.max(...o.data.map((e=>{let{value:t}=e;return t})).filter((e=>!!e))),min:Math.min(...s.data.map((e=>{let{value:t}=e;return t})).filter((e=>!!e)))})}return r}(e,t);if(o){const e=(o.max+o.min)/2;r=d((o.max-o.min)/5),(e/r).toFixed(0).length>6&&(r=d(e))}return r}function d(e){return e>=a.ps?a.ps:e>=a.x4?a.x4:e>=a.kr?a.kr:e>=a.EB?a.EB:e>=a.sh?a.sh:1}},"./app/utils/profiling/hooks/useCurrentProjectFromRouteParam.tsx":(e,t,r)=>{r.d(t,{y:()=>a});var o=r("./app/utils/useParams.tsx"),s=r("./app/utils/useProjects.tsx");function a(){const e=(0,o.U)();return(0,s.Z)({limit:1,slugs:[e?.projectId]}).projects?.[0]??null}},"./app/views/profiling/profileSummary/index.tsx":(e,t,r)=>{r.r(t),r.d(t,{default:()=>M});var o=r("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),s=(r("../node_modules/core-js/modules/es.array.push.js"),r("../node_modules/react/index.js")),a=r("../node_modules/react-router/es/index.js"),n=r("./app/components/datePageFilter.tsx"),i=r("./app/components/environmentPageFilter.tsx"),l=r("./app/components/idBadge/index.tsx"),u=r("./app/components/layouts/thirds.tsx"),c=r("./app/components/noProjectMessage.tsx"),p=r("./app/components/organizations/pageFilterBar.tsx"),d=r("./app/components/organizations/pageFilters/container.tsx"),m=r("./app/components/profiling/profilingBreadcrumbs.tsx"),g=r("./app/components/sentryDocumentTitle.tsx"),f=r("./app/components/smartSearchBar/index.tsx"),x=r("./app/constants/index.tsx"),y=r("./app/locale.tsx"),h=r("./app/styles/space.tsx"),j=r("./app/utils.tsx"),v=r("./app/utils/analytics/trackAdvancedAnalyticsEvent.tsx"),S=r("./app/utils/discover/fields.tsx"),Z=r("./app/utils/profiling/hooks/useCurrentProjectFromRouteParam.tsx"),b=r("./app/utils/profiling/hooks/useProfileFilters.tsx"),q=r("./app/utils/queryString.tsx"),F=r("./app/utils/tokenizeSearch.tsx"),P=r("./app/utils/useOrganization.tsx"),_=r("./app/utils/withPageFilters.tsx"),w=r("./app/views/profiling/profileSummary/content.tsx"),k=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function B(e){const t=(0,P.Z)(),r=(0,Z.y)();(0,s.useEffect)((()=>{(0,v.Z)("profiling_views.profile_summary",{organization:t,project_platform:r?.platform,project_id:r?.id})}),[t]);const o=(0,q.ro)(e.location.query.transaction),h=(0,s.useMemo)((()=>(0,q.ro)(e.location.query.query,"")),[e.location.query.query]),_=(0,s.useMemo)((()=>{const e=new F.MY(h);return(0,j.ri)(o)&&e.setFilterValues("transaction",[o]),Object.keys(e.filters).forEach((t=>{(0,S.h1)(t)&&e.removeFilter(t)})),e.formatString()}),[h,o]),B=(0,s.useMemo)((()=>{const e=new F.MY("");return(0,j.ri)(o)&&e.setFilterValues("transaction_name",[o]),e.formatString()}),[o]),M=(0,b.J)({query:B,selection:e.selection}),E=(0,s.useCallback)((t=>{a.browserHistory.push({...e.location,query:{...e.location.query,query:t||void 0,cursor:void 0}})}),[e.location]),X=(0,s.useMemo)((()=>[{type:"landing",payload:{query:e.location.query}},{type:"profile summary",payload:{projectSlug:r.slug,query:e.location.query,transaction:o??""}}]),[e.location.query,r.slug,o]);return(0,k.tZ)(g.Z,{title:(0,y.t)("Profiling — Profile Summary"),orgSlug:t.slug,children:(0,k.tZ)(d.Z,{shouldForceProject:(0,j.ri)(r),forceProject:r,specificProjectSlugs:(0,j.ri)(r)?[r.slug]:[],children:(0,k.tZ)(u.T3,{children:(0,k.tZ)(c.Z,{organization:t,children:r&&o&&(0,k.BX)(s.Fragment,{children:[(0,k.tZ)(u.h4,{children:(0,k.BX)(u.oB,{children:[(0,k.tZ)(m.u,{organization:t,trails:X}),(0,k.BX)(u.Dx,{children:[r?(0,k.tZ)(l.Z,{project:r,avatarSize:28,hideName:!0,avatarProps:{hasTooltip:!0,tooltip:r.slug}}):null,o]})]})}),(0,k.tZ)(u.uT,{children:(0,k.BX)(u.or,{fullWidth:!0,children:[(0,k.BX)(z,{children:[(0,k.BX)(p.Z,{condensed:!0,children:[(0,k.tZ)(i.Z,{}),(0,k.tZ)(n.Z,{alignDropdown:"left"})]}),(0,k.tZ)(f.Z,{organization:t,hasRecentSearches:!0,searchSource:"profile_summary",supportedTags:M,query:h,onSearch:E,maxQueryLength:x.dI})]}),(0,k.tZ)(w.J,{location:e.location,project:r,selection:e.selection,transaction:o,query:_})]})})]})})})})})}B.displayName="ProfileSummaryPage";const z=(0,o.Z)("div",{target:"e1dzn5ix0"})("display:grid;gap:",(0,h.Z)(2),";grid-template-columns:min-content auto;margin-bottom:",(0,h.Z)(2),";"),M=(0,_.Z)(B)}}]);
//# sourceMappingURL=../sourcemaps/app_utils_discover_charts_tsx-app_views_profiling_profileSummary_index_tsx.807a166249817b4d375bb8008ed24356.js.map