"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_onboarding_components_integrations_addInstallationInstructions_tsx-app_views_onboar-dbccd2"],{"./app/views/onboarding/components/integrations/addInstallationInstructions.tsx":(t,e,n)=>{n.d(e,{Z:()=>s});var o=n("../node_modules/react/index.js"),a=n("./app/components/links/externalLink.tsx"),i=n("./app/locale.tsx"),r=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function s(){return(0,r.BX)(o.Fragment,{children:[(0,r.tZ)("p",{children:(0,i._N)("The automated AWS Lambda setup will instrument your Lambda functions with Sentry error and performance monitoring without any code changes. We use CloudFormation Stack ([learnMore]) to create the Sentry role which gives us access to your AWS account.",{learnMore:(0,r.tZ)(a.Z,{href:"https://aws.amazon.com/cloudformation/",children:(0,i.t)("Learn more about CloudFormation")})})}),(0,r.tZ)("p",{children:(0,i._N)("Just press the [addInstallation] button below and complete the steps in the popup that opens.",{addInstallation:(0,r.tZ)("strong",{children:(0,i.t)("Add Installation")})})}),(0,r.tZ)("p",{children:(0,i._N)("If you donâ€™t want to add CloudFormation stack to your AWS environment, press the [manualSetup] button instead.",{manualSetup:(0,r.tZ)("strong",{children:(0,i.t)("Manual Setup")})})})]})}s.displayName="AddInstallationInstructions"},"./app/views/onboarding/components/integrations/postInstallCodeSnippet.tsx":(t,e,n)=>{n.d(e,{Z:()=>s});var o=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),a=n("../node_modules/react/index.js"),i=n("./app/locale.tsx"),r=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function s(t){let{provider:e,platform:n,isOnboarding:o}=t;const s="python-awslambda"===n?"()":"();";return(0,r.BX)("div",{children:[(0,r.tZ)("p",{children:(0,i.t)("Congrats, you just installed the %s integration! Now that it's is installed, the next time you trigger an error it will go to your Sentry.",e.name)}),(0,r.tZ)("p",{children:(0,i.t)("This snippet includes an intentional error, so you can test that everything is working as soon as you set it up:")}),(0,r.tZ)("div",{children:(0,r.tZ)(d,{children:(0,r.BX)("code",{children:[(0,r.tZ)(l,{children:"myUndefinedFunction"}),(0,r.tZ)(c,{children:s}),")"]})})}),o&&(0,r.BX)(a.Fragment,{children:[(0,r.tZ)("p",{children:(0,i.t)("If you're new to Sentry, use the email alert to access your account and complete a product tour.")}),(0,r.tZ)("p",{children:(0,i.t)("If you're an existing user and have disabled alerts, you won't receive this email.")})]})]})}s.displayName="PostInstallCodeSnippet";const d=(0,o.Z)("pre",{target:"el04xqa2"})({name:"1cbwt16",styles:"padding:1em;overflow:auto;background:#251f3d;font-size:15px"}),l=(0,o.Z)("span",{target:"el04xqa1"})({name:"abvjt",styles:"color:#7cc5c4"}),c=(0,o.Z)("span",{target:"el04xqa0"})({name:"rybrai",styles:"color:#b3acc1"})},"./app/views/onboarding/createSampleEventButton.tsx":(t,e,n)=>{n.d(e,{Z:()=>v});var o=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),a=(n("../node_modules/core-js/modules/es.error.cause.js"),n("../node_modules/core-js/modules/es.array.push.js"),n("../node_modules/react/index.js")),i=n("../node_modules/react-router/es/index.js"),r=n("../node_modules/@sentry/core/esm/exports.js"),s=n("./app/actionCreators/indicator.tsx"),d=n("./app/components/button.tsx"),l=n("./app/locale.tsx"),c=n("./app/utils/analytics/trackAdvancedAnalyticsEvent.tsx"),p=n("./app/utils/withApi.tsx"),u=n("./app/utils/withDomainRequired.tsx"),m=n("./app/utils/withOrganization.tsx"),g=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const h=1e3;class w extends a.Component{constructor(){super(...arguments),(0,o.Z)(this,"state",{creating:!1}),(0,o.Z)(this,"createSampleGroup",(async()=>{const{api:t,organization:e,project:n}=this.props;let o;if(!n)return;(0,c.Z)("growth.onboarding_view_sample_event",{platform:n.platform,organization:e}),(0,s.E3)((0,l.t)("Processing sample event..."),{duration:3e4}),this.setState({creating:!0});try{const a=`/projects/${e.slug}/${n.slug}/create-sample/`;o=await t.requestPromise(a,{method:"POST"})}catch(t){return r.$e((e=>{e.setExtra("error",t),r.Tb(new Error("Failed to create sample event"))})),this.setState({creating:!1}),(0,s.B8)(),void(0,s.Iw)((0,l.t)("Failed to create a new sample event"))}const a=performance.now(),{eventCreated:d,retries:p}=await async function(t,e){let n=0;for(;;){if(n>30)return{eventCreated:!1,retries:n-1};await new Promise((t=>window.setTimeout(t,h)));try{return await t.requestPromise(`/issues/${e}/events/latest/`),{eventCreated:!0,retries:n}}catch{++n}}}(t,o.groupID),m=performance.now();(0,s.B8)(),this.setState({creating:!1});const g=Math.ceil(m-a);if(this.recordAnalytics({eventCreated:d,retries:p,duration:g}),!d)return(0,s.Iw)((0,l.t)("Failed to load sample event")),void r.$e((t=>{t.setTag("groupID",o.groupID),t.setTag("platform",n.platform||""),t.setTag("interval",h.toString()),t.setTag("retries",p.toString()),t.setTag("duration",g.toString()),t.setLevel("warning"),r.uT("Failed to load sample event")}));i.browserHistory.push((0,u.D)(`/organizations/${e.slug}/issues/${o.groupID}/?project=${n.id}&referrer=sample-error`))}))}componentDidMount(){const{organization:t,project:e,source:n}=this.props;e&&(0,c.Z)("sample_event.button_viewed",{organization:t,project_id:e.id,source:n})}recordAnalytics(t){let{eventCreated:e,retries:n,duration:o}=t;const{organization:a,project:i,source:r}=this.props;if(!i)return;const s="sample_event."+(e?"created":"failed");(0,c.Z)(s,{organization:a,project_id:i.id,platform:i.platform||"",interval:h,retries:n,duration:o,source:r})}render(){const{api:t,organization:e,project:n,source:o,...a}=this.props,{creating:i}=this.state;return(0,g.tZ)(d.zx,{...a,disabled:a.disabled||i,onClick:this.createSampleGroup})}}w.displayName="CreateSampleEventButton";const v=(0,p.Z)((0,m.Z)(w))},"./app/views/organizationIntegrations/addIntegration.tsx":(t,e,n)=>{n.d(e,{Z:()=>c});var o=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),a=n("../node_modules/react/index.js"),i=n("../node_modules/query-string/index.js"),r=n("./app/actionCreators/indicator.tsx"),s=n("./app/constants/index.tsx"),d=n("./app/locale.tsx"),l=n("./app/utils/integrationUtil.tsx");class c extends a.Component{constructor(){super(...arguments),(0,o.Z)(this,"dialog",null),(0,o.Z)(this,"openDialog",(t=>{const{account:e,analyticsParams:n,modalParams:o,organization:a,provider:r}=this.props;(0,l.Db)("integrations.installation_start",{integration:r.key,integration_type:"first_party",organization:a,...n});const{url:s,width:d,height:c}=r.setupDialog,{left:p,top:u}=this.computeCenteredWindow(d,c);let m={...t};e&&(m.account=e),o&&(m={...m,...o});const g=`${s}?${i.stringify(m)}`,h=`scrollbars=yes,width=${d},height=${c},top=${u},left=${p}`;this.dialog=window.open(g,"sentryAddIntegration",h),this.dialog&&this.dialog.focus()})),(0,o.Z)(this,"didReceiveMessage",(t=>{const{analyticsParams:e,onInstall:n,organization:o,provider:a}=this.props;if(t.origin!==document.location.origin&&"production"===s.lC)return;if(t.source!==this.dialog)return;const{success:i,data:c}=t.data;this.dialog=null,i?c&&((0,l.Db)("integrations.installation_complete",{integration:a.key,integration_type:"first_party",organization:o,...e}),(0,r.S9)((0,d.t)("%s added",a.name)),n(c)):(0,r.Iw)(c.error)}))}componentDidMount(){window.addEventListener("message",this.didReceiveMessage)}componentWillUnmount(){window.removeEventListener("message",this.didReceiveMessage),this.dialog?.close()}computeCenteredWindow(t,e){const n=void 0!==window.screenLeft?window.screenLeft:window.screenX,o=void 0!==window.screenTop?window.screenTop:window.screenY;return{left:(window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width)/2-t/2+n,top:(window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height)/2-e/2+o}}render(){const{children:t}=this.props;return t(this.openDialog)}}c.displayName="AddIntegration"},"./app/views/organizationIntegrations/addIntegrationButton.tsx":(t,e,n)=>{n.d(e,{w:()=>d});var o=n("./app/components/button.tsx"),a=n("./app/components/tooltip.tsx"),i=n("./app/locale.tsx"),r=n("./app/views/organizationIntegrations/addIntegration.tsx"),s=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function d(t){let{provider:e,buttonText:n,onAddIntegration:d,organization:l,reinstall:c,analyticsParams:p,modalParams:u,...m}=t;const g=n??(c?(0,i.t)("Enable"):(0,i.t)("Add %s",e.metadata.noun));return(0,s.tZ)(a.u,{disabled:e.canAdd,title:`Integration cannot be added on Sentry. Enable this integration via the ${e.name} instance.`,children:(0,s.tZ)(r.Z,{provider:e,onInstall:d,organization:l,analyticsParams:p,modalParams:u,children:t=>(0,s.tZ)(o.zx,{disabled:!e.canAdd,...m,onClick:()=>t(),"aria-label":(0,i.t)("Add integration"),children:g})})})}d.displayName="AddIntegrationButton"}}]);
//# sourceMappingURL=../sourcemaps/app_views_onboarding_components_integrations_addInstallationInstructions_tsx-app_views_onboar-dbccd2.bdcfd6177cb4d81cbb317749eee72623.js.map